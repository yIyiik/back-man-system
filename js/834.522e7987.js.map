{"version":3,"file":"js/834.522e7987.js","mappings":"sPAAY,MAACA,EAAW,cACXC,EAAe,SAASC,EAAMC,GACpCA,IAAQA,EAAKH,IAElBI,OAAOC,eAAeF,EAAMH,EAAU,CACpCM,MAAOJ,EAAKK,GACZC,YAAY,EACZC,cAAc,EACdC,UAAU,GAEd,EACaC,EAAa,SAASC,EAAKT,GACtC,OAAKS,EAEET,EAAKS,GADHT,EAAKH,EAEhB,EACaa,EAAsBA,CAACC,EAAOC,EAAMC,KAC/C,MAAMC,EAAiBH,EAAMR,MAAMY,YACnCF,IACA,MAAME,EAAcJ,EAAMR,MAAMY,YAC5BD,IAAmBC,GAEvBH,EAAK,iBAAkBG,EAAcA,EAAYf,KAAO,KAAMe,EAAY,ECnB/DC,EAAiBjB,IAC5B,IAAIkB,GAAM,EACNC,GAAO,EACPC,GAAoB,EACxB,IAAK,IAAIC,EAAI,EAAGC,EAAItB,EAAKuB,OAAQF,EAAIC,EAAGD,IAAK,CAC3C,MAAMG,EAAIxB,EAAKqB,KACG,IAAdG,EAAEC,SAAoBD,EAAEE,iBAC1BR,GAAM,EACDM,EAAEG,WACLP,GAAoB,MAGN,IAAdI,EAAEC,SAAqBD,EAAEE,iBAC3BP,GAAO,EAEb,CACE,MAAO,CAAED,MAAKC,OAAMC,oBAAmBQ,MAAOV,IAAQC,EAAM,EAExDU,EAAgB,SAAS7B,GAC7B,GAA+B,IAA3BA,EAAK8B,WAAWP,QAAgBvB,EAAK+B,QACvC,OACF,MAAM,IAAEb,EAAG,KAAEC,EAAI,KAAES,GAASX,EAAcjB,EAAK8B,YAC3CZ,GACFlB,EAAKyB,SAAU,EACfzB,EAAK0B,eAAgB,GACZE,GACT5B,EAAKyB,SAAU,EACfzB,EAAK0B,eAAgB,GACZP,IACTnB,EAAKyB,SAAU,EACfzB,EAAK0B,eAAgB,GAEvB,MAAMM,EAAShC,EAAKgC,OACfA,GAA2B,IAAjBA,EAAOC,QAEjBjC,EAAKY,MAAMsB,eACdL,EAAcG,GAElB,EACMG,EAAsB,SAASnC,EAAMoC,GACzC,MAAMC,EAAQrC,EAAKY,MAAMyB,MACnBpC,EAAOD,EAAKC,MAAQ,GACpBqC,EAASD,EAAMD,GACrB,GAAsB,oBAAXE,EACT,OAAOA,EAAOrC,EAAMD,GACf,GAAsB,kBAAXsC,EAChB,OAAOrC,EAAKqC,GACP,GAAsB,qBAAXA,EAAwB,CACxC,MAAMC,EAAWtC,EAAKmC,GACtB,YAAoB,IAAbG,EAAsB,GAAKA,CACtC,CACA,EACA,IAAIC,EAAa,EACjB,MAAMC,EACJC,YAAYC,GACV,KAAKtC,GAAKmC,IACV,KAAKI,KAAO,KACZ,KAAKnB,SAAU,EACf,KAAKC,eAAgB,EACrB,KAAKzB,KAAO,KACZ,KAAK4C,UAAW,EAChB,KAAKb,OAAS,KACd,KAAKc,SAAU,EACf,KAAKC,WAAY,EACjB,KAAKC,UAAW,EAChB,IAAK,MAAMC,KAAQN,GACbO,EAAAA,EAAAA,IAAOP,EAASM,KAClB,KAAKA,GAAQN,EAAQM,IAGzB,KAAKhB,MAAQ,EACb,KAAKkB,QAAS,EACd,KAAKrB,WAAa,GAClB,KAAKC,SAAU,EACX,KAAKC,SACP,KAAKC,MAAQ,KAAKD,OAAOC,MAAQ,EAEvC,CACEmB,aACE,MAAMxC,EAAQ,KAAKA,MACnB,IAAKA,EACH,MAAM,IAAIyC,MAAM,4BAElBzC,EAAM0C,aAAa,MACnB,MAAMjB,EAAQzB,EAAMyB,MACpB,GAAIA,GAAiC,qBAAjBA,EAAMkB,OAAwB,CAChD,MAAMA,EAASpB,EAAoB,KAAM,UACnB,mBAAXoB,IACT,KAAKC,aAAeD,EAE5B,CAaI,IAZmB,IAAf3C,EAAM6C,MAAiB,KAAKxD,MAC9B,KAAKyD,QAAQ,KAAKzD,MACdW,EAAM+C,mBACR,KAAKd,UAAW,EAChB,KAAKG,UAAW,IAET,KAAKf,MAAQ,GAAKrB,EAAM6C,MAAQ7C,EAAM+C,kBAC/C,KAAKC,SAEFC,MAAMC,QAAQ,KAAK7D,OACtBF,EAAa,KAAM,KAAKE,OAErB,KAAKA,KACR,OACF,MAAM8D,EAAsBnD,EAAMmD,oBAC5BrD,EAAME,EAAMF,IACdA,GAAOqD,GAAuBA,EAAoBC,SAAS,KAAKtD,MAClE,KAAKkD,OAAO,KAAMhD,EAAMqD,kBAEtBvD,QAAgC,IAAzBE,EAAMsD,gBAA6B,KAAKxD,MAAQE,EAAMsD,iBAC/DtD,EAAMI,YAAc,KACpBJ,EAAMI,YAAY+B,WAAY,GAE5BnC,EAAM6C,MACR7C,EAAMuD,wBAAwB,MAEhC,KAAKC,mBACD,KAAKpC,QAA0B,IAAf,KAAKC,QAAwC,IAAzB,KAAKD,OAAOa,WAClD,KAAKG,UAAW,EACtB,CACEU,QAAQzD,GAMN,IAAIoE,EALCR,MAAMC,QAAQ7D,IACjBF,EAAa,KAAME,GAErB,KAAKA,KAAOA,EACZ,KAAK6B,WAAa,GAGhBuC,EADiB,IAAf,KAAKpC,OAAe4B,MAAMC,QAAQ,KAAK7D,MAC9B,KAAKA,KAELkC,EAAoB,KAAM,aAAe,GAEtD,IAAK,IAAId,EAAI,EAAGC,EAAI+C,EAAS9C,OAAQF,EAAIC,EAAGD,IAC1C,KAAKiD,YAAY,CAAErE,KAAMoE,EAAShD,IAExC,CACMkD,YACF,OAAOpC,EAAoB,KAAM,QACrC,CACMzB,UACF,MAAM8D,EAAU,KAAK5D,MAAMF,IAC3B,OAAI+D,KAAKxE,KACA,KAAKA,KAAKuE,GACZ,IACX,CACM7C,eACF,OAAOQ,EAAoB,KAAM,WACrC,CACMuC,kBACF,MAAM1C,EAAS,KAAKA,OACpB,GAAIA,EAAQ,CACV,MAAM2C,EAAQ3C,EAAOF,WAAW8C,QAAQ,MACxC,GAAID,GAAS,EACX,OAAO3C,EAAOF,WAAW6C,EAAQ,EAEzC,CACI,OAAO,IACX,CACME,sBACF,MAAM7C,EAAS,KAAKA,OACpB,GAAIA,EAAQ,CACV,MAAM2C,EAAQ3C,EAAOF,WAAW8C,QAAQ,MACxC,GAAID,GAAS,EACX,OAAOA,EAAQ,EAAI3C,EAAOF,WAAW6C,EAAQ,GAAK,IAE1D,CACI,OAAO,IACX,CACEG,SAASC,EAAQC,GAAO,GACtB,OAAQ,KAAKlD,YAAc,IAAImD,MAAMC,GAAUA,IAAUH,GAAUC,GAAQE,EAAMJ,SAASC,IAC9F,CACEI,SACE,MAAMnD,EAAS,KAAKA,OAChBA,GACFA,EAAOoD,YAAY,KAEzB,CACEd,YAAYY,EAAOP,EAAOU,GACxB,IAAKH,EACH,MAAM,IAAI7B,MAAM,yCAClB,KAAM6B,aAAiBzC,GAAO,CAC5B,IAAK4C,EAAO,CACV,MAAMhB,EAAW,KAAKiB,aAAY,GAC7BjB,EAASL,SAASkB,EAAMjF,QACN,qBAAV0E,GAAyBA,EAAQ,EAC1CN,EAASkB,KAAKL,EAAMjF,MAEpBoE,EAASmB,OAAOb,EAAO,EAAGO,EAAMjF,MAG5C,CACMC,OAAOuF,OAAOP,EAAO,CACnBlD,OAAQ,KACRpB,MAAO,KAAKA,QAEdsE,GAAQQ,EAAAA,EAAAA,IAAS,IAAIjD,EAAKyC,IACtBA,aAAiBzC,GACnByC,EAAM9B,YAEd,CAEI8B,EAAMjD,MAAQ,KAAKA,MAAQ,EACN,qBAAV0C,GAAyBA,EAAQ,EAC1C,KAAK7C,WAAWyD,KAAKL,GAErB,KAAKpD,WAAW0D,OAAOb,EAAO,EAAGO,GAEnC,KAAKd,iBACT,CACEuB,aAAaT,EAAOU,GAClB,IAAIjB,EACAiB,IACFjB,EAAQ,KAAK7C,WAAW8C,QAAQgB,IAElC,KAAKtB,YAAYY,EAAOP,EAC5B,CACEkB,YAAYX,EAAOU,GACjB,IAAIjB,EACAiB,IACFjB,EAAQ,KAAK7C,WAAW8C,QAAQgB,IACjB,IAAXjB,IACFA,GAAS,IAEb,KAAKL,YAAYY,EAAOP,EAC5B,CACES,YAAYF,GACV,MAAMb,EAAW,KAAKiB,eAAiB,GACjCQ,EAAYzB,EAASO,QAAQM,EAAMjF,MACrC6F,GAAa,GACfzB,EAASmB,OAAOM,EAAW,GAE7B,MAAMnB,EAAQ,KAAK7C,WAAW8C,QAAQM,GAClCP,GAAS,IACX,KAAK/D,OAAS,KAAKA,MAAMmF,eAAeb,GACxCA,EAAMlD,OAAS,KACf,KAAKF,WAAW0D,OAAOb,EAAO,IAEhC,KAAKP,iBACT,CACE4B,kBAAkB/F,GAChB,IAAIgG,EAAa,KACjB,IAAK,IAAI5E,EAAI,EAAGA,EAAI,KAAKS,WAAWP,OAAQF,IAC1C,GAAI,KAAKS,WAAWT,GAAGpB,OAASA,EAAM,CACpCgG,EAAa,KAAKnE,WAAWT,GAC7B,KACR,CAEQ4E,GACF,KAAKb,YAAYa,EAEvB,CACErC,OAAOsC,EAAUC,GACf,MAAMC,EAAOA,KACX,GAAID,EAAc,CAChB,IAAInE,EAAS,KAAKA,OAClB,MAAOA,EAAOC,MAAQ,EACpBD,EAAOa,UAAW,EAClBb,EAASA,EAAOA,MAE1B,CACM,KAAKa,UAAW,EACZqD,GACFA,IACF,KAAKpE,WAAWuE,SAASC,IACvBA,EAAKtD,UAAW,CAAI,GACpB,EAEA,KAAKuD,iBACP,KAAKC,UAAUvG,IACT4D,MAAMC,QAAQ7D,KACZ,KAAKwB,QACP,KAAKgF,YAAW,GAAM,GACZ,KAAK7F,MAAMsB,eACrBL,EAAc,MAEhBuE,IACV,IAGMA,GAEN,CACEM,iBAAiBC,EAAOC,EAAe,IACrCD,EAAMN,SAASC,IACb,KAAKhC,YAAYpE,OAAOuF,OAAO,CAAExF,KAAMqG,GAAQM,QAAe,GAAQ,EAAK,GAEjF,CACEC,WACE,KAAKhE,UAAW,EAChB,KAAKf,WAAWuE,SAASC,IACvBA,EAAKtD,UAAW,CAAK,GAE3B,CACEuD,iBACE,OAA2B,IAApB,KAAK3F,MAAM6C,MAAiB,KAAK7C,MAAMkG,OAAS,KAAK3D,MAChE,CACEiB,kBACE,IAAwB,IAApB,KAAKxD,MAAM6C,OAAiC,IAAhB,KAAKN,QAAgD,qBAAtB,KAAKK,aAElE,YADA,KAAKD,OAAS,KAAKC,cAGrB,MAAM1B,EAAa,KAAKA,YACnB,KAAKlB,MAAM6C,OAA4B,IAApB,KAAK7C,MAAM6C,OAAiC,IAAhB,KAAKN,OACvD,KAAKI,QAAUzB,GAAoC,IAAtBA,EAAWP,OAG1C,KAAKgC,QAAS,CAClB,CACEkD,WAAWrG,EAAO4E,EAAM+B,EAAWC,GAGjC,GAFA,KAAKtF,cAA0B,SAAVtB,EACrB,KAAKqB,SAAoB,IAAVrB,EACX,KAAKQ,MAAMsB,cACb,OACF,IAAM,KAAKqE,kBAAqB,KAAK3F,MAAMqG,iBAAmB,CAC5D,MAAM,IAAE/F,EAAG,kBAAEE,GAAsBH,EAAc,KAAKa,YACjD,KAAKyB,QAAWrC,IAAOE,IAC1B,KAAKK,SAAU,EACfrB,GAAQ,GAEV,MAAM8G,EAAoBA,KACxB,GAAIlC,EAAM,CACR,MAAMlD,EAAa,KAAKA,WACxB,IAAK,IAAIT,EAAI,EAAGC,EAAIQ,EAAWP,OAAQF,EAAIC,EAAGD,IAAK,CACjD,MAAM6D,EAAQpD,EAAWT,GACzB2F,EAAYA,IAAuB,IAAV5G,EACzB,MAAM+G,EAAUjC,EAAMvD,SAAWuD,EAAMzD,QAAUuF,EACjD9B,EAAMuB,WAAWU,EAASnC,GAAM,EAAMgC,EAClD,CACU,MAAM,KAAEpF,EAAMV,IAAKkG,GAASnG,EAAca,GACrCsF,IACH,KAAK3F,QAAU2F,EACf,KAAK1F,cAAgBE,EAEjC,GAEM,GAAI,KAAK2E,iBAOP,YANA,KAAKC,UAAS,KACZU,IACArF,EAAc,KAAK,GAClB,CACDJ,SAAmB,IAAVrB,IAIX8G,GAER,CACI,MAAMlF,EAAS,KAAKA,OACfA,GAA2B,IAAjBA,EAAOC,QAEjB8E,GACHlF,EAAcG,GAEpB,CACEsD,YAAY+B,GAAY,GACtB,GAAmB,IAAf,KAAKpF,MACP,OAAO,KAAKhC,KACd,MAAMA,EAAO,KAAKA,KAClB,IAAKA,EACH,OAAO,KACT,MAAMoC,EAAQ,KAAKzB,MAAMyB,MACzB,IAAIgC,EAAW,WAUf,OATIhC,IACFgC,EAAWhC,EAAMgC,UAAY,iBAER,IAAnBpE,EAAKoE,KACPpE,EAAKoE,GAAY,MAEfgD,IAAcpH,EAAKoE,KACrBpE,EAAKoE,GAAY,IAEZpE,EAAKoE,EAChB,CACEiD,iBACE,MAAMC,EAAU,KAAKjC,eAAiB,GAChCkC,EAAU,KAAK1F,WAAW2F,KAAKzH,GAASA,EAAKC,OAC7CyH,EAAa,GACbC,EAAW,GACjBJ,EAAQlB,SAAQ,CAACC,EAAM3B,KACrB,MAAMjE,EAAM4F,EAAKxG,GACX8H,IAAiBlH,GAAO8G,EAAQK,WAAW5H,GAASA,EAAKH,KAAcY,KAAQ,EACjFkH,EACFF,EAAWhH,GAAO,CAAEiE,QAAO1E,KAAMqG,GAEjCqB,EAASpC,KAAK,CAAEZ,QAAO1E,KAAMqG,GACrC,IAES,KAAK1F,MAAM6C,MACd+D,EAAQnB,SAASC,IACVoB,EAAWpB,EAAKxG,KACnB,KAAKkG,kBAAkBM,EAAK,IAGlCqB,EAAStB,SAAQ,EAAG1B,QAAO1E,WACzB,KAAKqE,YAAY,CAAErE,QAAQ0E,EAAM,IAEnC,KAAKP,iBACT,CACEoC,SAASN,EAAUU,EAAe,IAChC,IAAwB,IAApB,KAAKhG,MAAM6C,OAAiB,KAAK7C,MAAMkG,MAAS,KAAK3D,QAAY,KAAKpB,UAAW7B,OAAO4H,KAAKlB,GAAcrF,OAczG2E,GACFA,EAAS6B,KAAK,UAfsG,CACtHtD,KAAK1C,SAAU,EACf,MAAMiG,EAAW3D,IACf,KAAKvC,WAAa,GAClB,KAAK4E,iBAAiBrC,EAAUuC,GAChC,KAAKzD,QAAS,EACd,KAAKpB,SAAU,EACf,KAAKqC,kBACD8B,GACFA,EAAS6B,KAAK,KAAM1D,EAC9B,EAEM,KAAKzD,MAAMkG,KAAK,KAAMkB,EAC5B,CAKA,EClae,MAAMC,EACnBvF,YAAYC,GACV,KAAK3B,YAAc,KACnB,KAAKkD,eAAiB,KACtB,IAAK,MAAMgE,KAAUvF,GACfO,EAAAA,EAAAA,IAAOP,EAASuF,KAClB,KAAKA,GAAUvF,EAAQuF,IAG3B,KAAKC,SAAW,EACpB,CACE/E,aAME,GALA,KAAKgF,KAAO,IAAI3F,EAAK,CACnBxC,KAAM,KAAKA,KACXW,MAAO,OAET,KAAKwH,KAAKhF,aACN,KAAKK,MAAQ,KAAKqD,KAAM,CAC1B,MAAMuB,EAAS,KAAKvB,KACpBuB,EAAO,KAAKD,MAAOnI,IACjB,KAAKmI,KAAK1B,iBAAiBzG,GAC3B,KAAKqI,0BAA0B,GAEvC,MACM,KAAKA,0BAEX,CACEC,OAAOnI,GACL,MAAMoI,EAAmB,KAAKA,iBACxB/E,EAAO,KAAKA,KACZgF,EAAW,SAASzI,GACxB,MAAM8B,EAAa9B,EAAKoI,KAAOpI,EAAKoI,KAAKtG,WAAa9B,EAAK8B,WAK3D,GAJAA,EAAWuE,SAASnB,IAClBA,EAAMpC,QAAU0F,EAAiBT,KAAK7C,EAAO9E,EAAO8E,EAAMjF,KAAMiF,GAChEuD,EAASvD,EAAM,KAEZlF,EAAK8C,SAAWhB,EAAWP,OAAQ,CACtC,IAAImH,GAAY,EAChBA,GAAa5G,EAAWmD,MAAMC,GAAUA,EAAMpC,UAC1C9C,EAAKoI,KAEPpI,EAAKoI,KAAKtF,SAAwB,IAAd4F,EAGpB1I,EAAK8C,SAAwB,IAAd4F,CAEzB,CACWtI,KAEDJ,EAAK8C,SAAY9C,EAAKuD,QAAWE,GACnCzD,EAAK4D,SACb,EACI6E,EAAS,KACb,CACE/E,QAAQiF,GACN,MAAMC,EAAkBD,IAAW,KAAKP,KAAKnI,KACzC2I,GACF,KAAKR,KAAK1E,QAAQiF,GAClB,KAAKL,4BAEL,KAAKF,KAAKd,gBAEhB,CACEuB,QAAQ5I,GACN,GAAIA,aAAgBwC,EAClB,OAAOxC,EACT,MAAMS,GAAMoI,EAAAA,EAAAA,IAAS7I,GAAQQ,EAAW,KAAKC,IAAKT,GAAQA,EAC1D,OAAO,KAAKkI,SAASzH,IAAQ,IACjC,CACEiF,aAAa1F,EAAM8I,GACjB,MAAMC,EAAU,KAAKH,QAAQE,GAC7BC,EAAQhH,OAAO2D,aAAa,CAAE1F,QAAQ+I,EAC1C,CACEnD,YAAY5F,EAAM8I,GAChB,MAAMC,EAAU,KAAKH,QAAQE,GAC7BC,EAAQhH,OAAO6D,YAAY,CAAE5F,QAAQ+I,EACzC,CACE7D,OAAOlF,GACL,MAAMD,EAAO,KAAK6I,QAAQ5I,GACtBD,GAAQA,EAAKgC,SACXhC,IAAS,KAAKgB,cAChB,KAAKA,YAAc,MAErBhB,EAAKgC,OAAOoD,YAAYpF,GAE9B,CACEiJ,OAAOhJ,EAAMiJ,GACX,MAAMC,EAAaD,EAAa,KAAKL,QAAQK,GAAc,KAAKd,KAC5De,GACFA,EAAW7E,YAAY,CAAErE,QAE/B,CACEqI,2BACE,MAAMc,EAAqB,KAAKA,oBAAsB,GAChDjB,EAAW,KAAKA,SACtBiB,EAAmB/C,SAASgD,IAC1B,MAAMrJ,EAAOmI,EAASkB,GAClBrJ,GACFA,EAAKyG,YAAW,GAAO,KAAKvE,cACpC,GAEA,CACEiC,wBAAwBnE,GACtB,MAAMoJ,EAAqB,KAAKA,oBAAsB,GAClDA,EAAmBpF,SAAShE,EAAKU,MACnCV,EAAKyG,YAAW,GAAO,KAAKvE,cAElC,CACEoH,qBAAqBX,GACfA,IAAW,KAAKS,qBAClB,KAAKA,mBAAqBT,EAC1B,KAAKL,2BAEX,CACEhF,aAAatD,GACX,MAAMU,EAAM,KAAKA,IACjB,GAAKV,GAASA,EAAKC,KAEnB,GAAKS,EAEE,CACL,MAAM8D,EAAUxE,EAAKU,SACL,IAAZ8D,IACF,KAAK2D,SAASnI,EAAKU,KAAOV,EAClC,MALM,KAAKmI,SAASnI,EAAKK,IAAML,CAM/B,CACE+F,eAAe/F,GACb,MAAMU,EAAM,KAAKA,IACZA,GAAQV,GAASA,EAAKC,OAE3BD,EAAK8B,WAAWuE,SAASnB,IACvB,KAAKa,eAAeb,EAAM,WAErB,KAAKiD,SAASnI,EAAKU,KAC9B,CACE6I,gBAAgBC,GAAW,EAAOC,GAAqB,GACrD,MAAMC,EAAe,GACfjB,EAAW,SAASzI,GACxB,MAAM8B,EAAa9B,EAAKoI,KAAOpI,EAAKoI,KAAKtG,WAAa9B,EAAK8B,WAC3DA,EAAWuE,SAASnB,KACbA,EAAMzD,SAAWgI,GAAsBvE,EAAMxD,kBAAoB8H,GAAYA,GAAYtE,EAAM3B,SAClGmG,EAAanE,KAAKL,EAAMjF,MAE1BwI,EAASvD,EAAM,GAEvB,EAEI,OADAuD,EAAS,MACFiB,CACX,CACEC,eAAeH,GAAW,GACxB,OAAO,KAAKD,gBAAgBC,GAAU/B,KAAKxH,IAAUA,GAAQ,IAAI,KAAKS,MAC1E,CACEkJ,sBACE,MAAMC,EAAQ,GACRpB,EAAW,SAASzI,GACxB,MAAM8B,EAAa9B,EAAKoI,KAAOpI,EAAKoI,KAAKtG,WAAa9B,EAAK8B,WAC3DA,EAAWuE,SAASnB,IACdA,EAAMxD,eACRmI,EAAMtE,KAAKL,EAAMjF,MAEnBwI,EAASvD,EAAM,GAEvB,EAEI,OADAuD,EAAS,MACFoB,CACX,CACEC,qBACE,OAAO,KAAKF,sBAAsBnC,KAAKxH,IAAUA,GAAQ,IAAI,KAAKS,MACtE,CACEqJ,eACE,MAAMC,EAAW,GACX7B,EAAW,KAAKA,SACtB,IAAK,MAAM3D,KAAW2D,GAChBjF,EAAAA,EAAAA,IAAOiF,EAAU3D,IACnBwF,EAASzE,KAAK4C,EAAS3D,IAG3B,OAAOwF,CACX,CACE1C,eAAe5G,EAAKT,GAClB,MAAMD,EAAO,KAAKmI,SAASzH,GAC3B,IAAKV,EACH,OACF,MAAM8B,EAAa9B,EAAK8B,WACxB,IAAK,IAAIT,EAAIS,EAAWP,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAC/C,MAAM6D,EAAQpD,EAAWT,GACzB,KAAK8D,OAAOD,EAAMjF,KACxB,CACI,IAAK,IAAIoB,EAAI,EAAGC,EAAIrB,EAAKsB,OAAQF,EAAIC,EAAGD,IAAK,CAC3C,MAAM6D,EAAQjF,EAAKoB,GACnB,KAAK4H,OAAO/D,EAAOlF,EAAKC,KAC9B,CACA,CACEgK,gBAAgBvJ,EAAK8I,GAAW,EAAOU,GACrC,MAAMF,EAAW,KAAKD,eAAeI,MAAK,CAACC,EAAGC,IAAMA,EAAEpI,MAAQmI,EAAEnI,QAC1DqI,EAAwBpK,OAAOqK,OAAO,MACtCzC,EAAO5H,OAAO4H,KAAKoC,GACzBF,EAAS3D,SAASrG,GAASA,EAAKyG,YAAW,GAAO,KAClD,IAAK,IAAIpF,EAAI,EAAGC,EAAI0I,EAASzI,OAAQF,EAAIC,EAAGD,IAAK,CAC/C,MAAMrB,EAAOgK,EAAS3I,GAChBmD,EAAUxE,EAAKC,KAAKS,GAAK8J,WACzB/I,EAAUqG,EAAK9D,SAASQ,GAC9B,IAAK/C,EAAS,CACRzB,EAAKyB,UAAY6I,EAAM9F,IACzBxE,EAAKyG,YAAW,GAAO,GAEzB,QACR,CACM,IAAIzE,EAAShC,EAAKgC,OAClB,MAAOA,GAAUA,EAAOC,MAAQ,EAC9BqI,EAAMtI,EAAO/B,KAAKS,KAAQ,EAC1BsB,EAASA,EAAOA,OAElB,GAAIhC,EAAKuD,QAAU,KAAKrB,cACtBlC,EAAKyG,YAAW,GAAM,QAIxB,GADAzG,EAAKyG,YAAW,GAAM,GAClB+C,EAAU,CACZxJ,EAAKyG,YAAW,GAAO,GACvB,MAAMgC,EAAW,SAASgC,GACxB,MAAM3I,EAAa2I,EAAM3I,WACzBA,EAAWuE,SAASnB,IACbA,EAAM3B,QACT2B,EAAMuB,YAAW,GAAO,GAE1BgC,EAASvD,EAAM,GAE3B,EACQuD,EAASzI,EACjB,CACA,CACA,CACE0K,gBAAgB/D,EAAO6C,GAAW,GAChC,MAAM9I,EAAM,KAAKA,IACXwJ,EAAc,GACpBvD,EAAMN,SAASC,IACb4D,GAAa5D,GAAQ,IAAI5F,KAAQ,CAAI,IAEvC,KAAKuJ,gBAAgBvJ,EAAK8I,EAAUU,EACxC,CACES,eAAe7C,EAAM0B,GAAW,GAC9B,KAAKJ,mBAAqBtB,EAC1B,MAAMpH,EAAM,KAAKA,IACXwJ,EAAc,GACpBpC,EAAKzB,SAASuE,IACZV,EAAYU,IAAQ,CAAI,IAE1B,KAAKX,gBAAgBvJ,EAAK8I,EAAUU,EACxC,CACEW,uBAAuB/C,GACrBA,EAAOA,GAAQ,GACf,KAAK/D,oBAAsB+D,EAC3BA,EAAKzB,SAAS3F,IACZ,MAAMV,EAAO,KAAK6I,QAAQnI,GACtBV,GACFA,EAAK4D,OAAO,KAAM,KAAKK,iBAAiB,GAEhD,CACEwC,WAAWxG,EAAMwB,EAASuD,GACxB,MAAMhF,EAAO,KAAK6I,QAAQ5I,GACtBD,GACFA,EAAKyG,aAAahF,EAASuD,EAEjC,CACE8F,iBACE,OAAO,KAAK9J,WAChB,CACE+J,eAAe/J,GACb,MAAMgK,EAAkB,KAAKhK,YACzBgK,IACFA,EAAgBjI,WAAY,GAE9B,KAAK/B,YAAcA,EACnB,KAAKA,YAAY+B,WAAY,CACjC,CACEkI,mBAAmBjL,EAAMkL,GAAyB,GAChD,MAAMxK,EAAMV,EAAK,KAAKU,KAChByK,EAAW,KAAKhD,SAASzH,GAC/B,KAAKqK,eAAeI,GAChBD,GAA0B,KAAKlK,YAAYiB,MAAQ,GACrD,KAAKjB,YAAYgB,OAAO4B,OAAO,MAAM,EAE3C,CACEwH,kBAAkB1K,EAAKwK,GAAyB,GAC9C,GAAY,OAARxK,QAAwB,IAARA,EAGlB,OAFA,KAAKM,cAAgB,KAAKA,YAAY+B,WAAY,QAClD,KAAK/B,YAAc,MAGrB,MAAMhB,EAAO,KAAK6I,QAAQnI,GACtBV,IACF,KAAK+K,eAAe/K,GAChBkL,GAA0B,KAAKlK,YAAYiB,MAAQ,GACrD,KAAKjB,YAAYgB,OAAO4B,OAAO,MAAM,GAG7C,E,gECpSA,MAAKyH,GAAaC,EAAAA,EAAAA,IAAa,CAC7BrI,KAAM,oBACNZ,MAAO,CACLrC,KAAM,CACJuL,KAAMrL,OACNsL,UAAU,GAEZC,cAAeC,UAEjBC,MAAMtJ,GACE,MAAAuJ,GAAKC,EAAAA,EAAAA,IAAa,QAClBC,GAAeC,EAAAA,EAAAA,IAAkC,gBACjDC,GAAOD,EAAAA,EAAAA,IAAqB,YAClC,MAAO,KACL,MAAM/L,EAAOqC,EAAMrC,MACb,KAAEC,EAAA,MAAMW,GAAUZ,EACxB,OAAOqC,EAAMoJ,cACTpJ,EAAMoJ,cAAcQ,EAAAA,EAAG,CAAEC,MAAOJ,EAAc9L,OAAMC,OAAMW,UAC1DoL,EAAKG,IAAIC,MAAMC,QACfL,EAAKG,IAAIC,MAAMC,QAAQ,CAAErM,OAAMC,UAC/BgM,EAAAA,EAAAA,GAAE,OAAQ,CAAEK,MAAOV,EAAGW,GAAG,OAAQ,UAAY,CAACvM,EAAKuE,OAAO,CAChE,I,+HC5BG,SAASiI,EAA4BnK,GAC1C,MAAMoK,GAAgBV,EAAAA,EAAAA,IAAO,cAAe,MACtCW,EAAiB,CACrBC,eAAiB3M,IACXqC,EAAMrC,OAASA,GACjBqC,EAAMrC,KAAK6G,UACnB,EAEIxC,SAAU,IAMZ,OAJIoI,GACFA,EAAcpI,SAASkB,KAAKmH,IAE9BE,EAAAA,EAAAA,IAAQ,cAAeF,GAChB,CACLG,kBAAoB7M,IAClB,GAAKqC,EAAMyK,UAEX,IAAK,MAAMC,KAAaL,EAAerI,SACrC0I,EAAUJ,eAAe3M,EACjC,EAGA,C,cCrBY,MAACgN,EAAgBC,OAAO,cAC7B,SAASC,GAAmB,MAAE7K,EAAK,IAAE8J,EAAG,IAAEgB,EAAG,eAAEC,EAAc,MAAExM,IACpE,MAAMgL,GAAKC,EAAAA,EAAAA,IAAa,QAClBwB,GAAYzH,EAAAA,EAAAA,IAAI,CACpB0H,mBAAmB,EACnBC,aAAc,KACdC,SAAU,KACVC,WAAW,EACXC,SAAU,OAENC,EAAoBA,EAAGC,QAAOC,eAClC,GAA+B,oBAApBxL,EAAMyL,YAA6BzL,EAAMyL,UAAUD,EAAS7N,MAErE,OADA4N,EAAMG,kBACC,EAETH,EAAMI,aAAaC,cAAgB,OACnC,IACEL,EAAMI,aAAatK,QAAQ,aAAc,GAC/C,CAAM,MAAOwK,GACb,CACIb,EAAUjN,MAAMmN,aAAeM,EAC/B1B,EAAItL,KAAK,kBAAmBgN,EAAS7N,KAAM4N,EAAM,EAE7CO,EAAmBA,EAAGP,QAAOC,eACjC,MAAML,EAAWK,EACXO,EAAcf,EAAUjN,MAAMoN,SAChCY,GAAeA,IAAgBZ,IACjCa,EAAAA,EAAAA,IAAYD,EAAYE,IAAK1C,EAAG2C,GAAG,eAErC,MAAMhB,EAAeF,EAAUjN,MAAMmN,aACrC,IAAKA,IAAiBC,EACpB,OACF,IAAIgB,GAAW,EACXC,GAAY,EACZC,GAAW,EACXC,GAAqB,EACM,oBAApBtM,EAAMoL,YACfe,EAAWnM,EAAMoL,UAAUF,EAAavN,KAAMwN,EAASxN,KAAM,QAC7D2O,EAAqBF,EAAYpM,EAAMoL,UAAUF,EAAavN,KAAMwN,EAASxN,KAAM,SACnF0O,EAAWrM,EAAMoL,UAAUF,EAAavN,KAAMwN,EAASxN,KAAM,SAE/D4N,EAAMI,aAAaY,WAAaH,GAAaD,GAAYE,EAAW,OAAS,QACxEF,GAAYC,GAAaC,IAAaN,IAAgBZ,IACrDY,GACFjC,EAAItL,KAAK,kBAAmB0M,EAAavN,KAAMoO,EAAYpO,KAAM4N,GAEnEzB,EAAItL,KAAK,kBAAmB0M,EAAavN,KAAMwN,EAASxN,KAAM4N,KAE5DY,GAAYC,GAAaC,KAC3BrB,EAAUjN,MAAMoN,SAAWA,GAEzBA,EAASxN,KAAK0E,cAAgB6I,EAAavN,OAC7C0O,GAAW,GAETlB,EAASxN,KAAK6E,kBAAoB0I,EAAavN,OACjDwO,GAAW,GAEThB,EAASxN,KAAK8E,SAASyI,EAAavN,MAAM,KAC5CyO,GAAY,IAEVlB,EAAavN,OAASwN,EAASxN,MAAQuN,EAAavN,KAAK8E,SAAS0I,EAASxN,SAC7EwO,GAAW,EACXC,GAAY,EACZC,GAAW,GAEb,MAAMG,EAAiBrB,EAASc,IAAIQ,wBAC9BC,EAAe5B,EAAI/M,MAAM0O,wBAC/B,IAAIpB,EACJ,MAAMsB,EAAcR,EAAWC,EAAY,IAAOC,EAAW,IAAO,GAAK,EACnEO,EAAcP,EAAWD,EAAY,IAAOD,EAAW,IAAO,EAAI,EACxE,IAAIU,GAAgB,KACpB,MAAMC,EAAWvB,EAAMwB,QAAUP,EAAeQ,IAE9C3B,EADEyB,EAAWN,EAAeS,OAASN,EAC1B,SACFG,EAAWN,EAAeS,OAASL,EACjC,QACFR,EACE,QAEA,OAEb,MAAMc,EAAe/B,EAASc,IAAIkB,cAAe,IAAG5D,EAAGW,GAAG,OAAQ,kBAAkBuC,wBAC9EW,EAAgBrC,EAAehN,MACpB,WAAbsN,EACFwB,EAAeK,EAAaF,IAAMN,EAAaM,IACzB,UAAb3B,IACTwB,EAAeK,EAAaG,OAASX,EAAaM,KAEpDI,EAAcE,MAAMN,IAAO,GAAEH,MAC7BO,EAAcE,MAAMC,KAAUL,EAAaM,MAAQd,EAAaa,KAApC,KACX,UAAblC,GACFoC,EAAAA,EAAAA,IAAStC,EAASc,IAAK1C,EAAG2C,GAAG,gBAE7BF,EAAAA,EAAAA,IAAYb,EAASc,IAAK1C,EAAG2C,GAAG,eAElClB,EAAUjN,MAAMkN,kBAAiC,WAAbI,GAAsC,UAAbA,EAC7DL,EAAUjN,MAAMqN,UAAYJ,EAAUjN,MAAMkN,mBAAqBqB,EACjEtB,EAAUjN,MAAMsN,SAAWA,EAC3BvB,EAAItL,KAAK,iBAAkB0M,EAAavN,KAAMwN,EAASxN,KAAM4N,EAAM,EAE/DmC,EAAmBnC,IACvB,MAAM,aAAEL,EAAY,SAAEG,EAAQ,SAAEF,GAAaH,EAAUjN,MAGvD,GAFAwN,EAAMG,iBACNH,EAAMI,aAAaY,WAAa,OAC5BrB,GAAgBC,EAAU,CAC5B,MAAMwC,EAAmB,CAAE/P,KAAMsN,EAAavN,KAAKC,MAClC,SAAbyN,GACFH,EAAavN,KAAKmF,SAEH,WAAbuI,EACFF,EAASxN,KAAKgC,OAAO2D,aAAaqK,EAAkBxC,EAASxN,MACvC,UAAb0N,EACTF,EAASxN,KAAKgC,OAAO6D,YAAYmK,EAAkBxC,EAASxN,MACtC,UAAb0N,GACTF,EAASxN,KAAKsE,YAAY0L,GAEX,SAAbtC,GACF9M,EAAMR,MAAMkD,aAAa0M,IAE3B3B,EAAAA,EAAAA,IAAYb,EAASc,IAAK1C,EAAG2C,GAAG,eAChCpC,EAAItL,KAAK,gBAAiB0M,EAAavN,KAAMwN,EAASxN,KAAM0N,EAAUE,GACrD,SAAbF,GACFvB,EAAItL,KAAK,YAAa0M,EAAavN,KAAMwN,EAASxN,KAAM0N,EAAUE,EAE1E,CACQL,IAAiBC,GACnBrB,EAAItL,KAAK,gBAAiB0M,EAAavN,KAAM,KAAM0N,EAAUE,GAE/DP,EAAUjN,MAAMkN,mBAAoB,EACpCD,EAAUjN,MAAMmN,aAAe,KAC/BF,EAAUjN,MAAMoN,SAAW,KAC3BH,EAAUjN,MAAMqN,WAAY,CAAI,EAOlC,OALAb,EAAAA,EAAAA,IAAQI,EAAe,CACrBW,oBACAQ,mBACA4B,oBAEK,CACL1C,YAEJ,C,cCjCA,MAAKhC,GAAaC,EAAAA,EAAAA,IAAa,CAC7BrI,KAAM,aACNgN,WAAY,CAAAC,qBACVC,EAAAA,EACAC,WAAA,EAAAA,WACAC,YAAAA,EACAC,OAAA,KACAC,QAAOA,EAAAA,KAETlO,MAAO,CACLrC,KAAM,CACJuL,KAAM9I,EACN4J,QAASA,KAAA,CAAQ,IAEnBhK,MAAO,CACLkJ,KAAMrL,OACNmM,QAASA,KAAA,CAAQ,IAEnBS,UAAW0D,QACX/E,cAAeC,SACf+E,kBAAmBD,QACnBE,aAAc,CACZnF,KAAMiF,QACNnE,SAAS,IAGbsE,MAAO,CAAC,eACRhF,MAAMtJ,EAAO8J,GACL,MAAAP,GAAKC,EAAAA,EAAAA,IAAa,SAClB,kBAAEgB,GAAsBL,EAA4BnK,GACpD2J,GAAOD,EAAAA,EAAAA,IAAqB,YAC5BlJ,GAAW+C,EAAAA,EAAAA,KAAI,GACfgL,GAAoBhL,EAAAA,EAAAA,KAAI,GACxBiL,GAAajL,EAAAA,EAAAA,IAAa,MAC1BkL,GAAmBlL,EAAAA,EAAAA,IAAa,MAChCmL,GAAQnL,EAAAA,EAAAA,IAA2B,MACnCoL,GAAajF,EAAAA,EAAAA,IAAOiB,GACpBiE,GAAWC,EAAAA,EAAAA,OAEjBtE,EAAAA,EAAAA,IAAQ,eAAgBqE,GACnBjF,IACHmF,EAAAA,EAAAA,GAAU,OAAQ,6BAGhB9O,EAAMrC,KAAK6C,WACbA,EAASzC,OAAQ,EACjBwQ,EAAkBxQ,OAAQ,GAGtB,MAAAgR,EAAcpF,EAAK3J,MAAM,aAAe,YAC9CgP,EAAAA,EAAAA,KACE,KACQ,MAAAhN,EAAWhC,EAAMrC,KAAKC,KAAKmR,GAC1B,OAAA/M,GAAY,IAAIA,EAAS,IAElC,KACEhC,EAAMrC,KAAKsH,gBAAe,KAI9B+J,EAAAA,EAAAA,KACE,IAAMhP,EAAMrC,KAAK0B,gBAChB4P,IACoBC,EAAAlP,EAAMrC,KAAKyB,QAAS6P,EAAI,KAI/CD,EAAAA,EAAAA,KACE,IAAMhP,EAAMrC,KAAKyB,UAChB6P,IACoBC,EAAAD,EAAKjP,EAAMrC,KAAK0B,cAAc,KAIrD2P,EAAAA,EAAAA,KACE,IAAMhP,EAAMrC,KAAK6C,WAChByO,KACUE,EAAAA,EAAAA,KAAC,IAAM3O,EAASzC,MAAQkR,IAC7BA,IACFV,EAAkBxQ,OAAQ,MAK1B,MAAAqR,EAAczR,GACXS,EAAeuL,EAAK3J,MAAMmC,QAASxE,EAAKC,MAG3CyR,EAAgB1R,IACd,MAAA2R,EAAgBtP,EAAMA,MAAMiK,MAClC,IAAKqF,EACH,MAAO,CAAC,EAEN,IAAAC,EACA,IAAAC,EAAAA,EAAAA,IAAWF,GAAgB,CAC7B,MAAM,KAAE1R,GAASD,EACL4R,EAAAD,EAAc1R,EAAMD,EAAI,MAExB4R,EAAAD,EAGV,OAAAG,EAAAA,EAAAA,IAASF,GACJ,CAAE,CAACA,IAAY,GAEfA,CAAA,EAILL,EAAqBA,CAAC9P,EAAkBC,KAE1CmP,EAAWzQ,QAAUqB,GACrBqP,EAAiB1Q,QAAUsB,GAE3BsK,EAAKG,IAAItL,KAAK,eAAgBwB,EAAMrC,KAAKC,KAAMwB,EAASC,GAE1DmP,EAAWzQ,MAAQqB,EACnBqP,EAAiB1Q,MAAQsB,CAAA,EAGrBqQ,EAAe7D,IACnBvN,EAAoBqL,EAAKpL,MAAOoL,EAAKG,IAAItL,MAAM,IAC7CmL,EAAKpL,MAAMR,MAAM2K,eAAe1I,EAAMrC,QAEnCgM,EAAAhL,YAAYZ,MAAQiC,EAAMrC,KAE3BgM,EAAK3J,MAAM2P,mBACSC,IAGpBjG,EAAK3J,MAAM6P,mBAAqB7P,EAAMrC,KAAK2B,UAC7CwQ,EAAkB,KAAM,CACtBpN,OAAQ,CAAEtD,SAAUY,EAAMrC,KAAKyB,WAG9BuK,EAAAG,IAAItL,KAAK,aAAcwB,EAAMrC,KAAKC,KAAMoC,EAAMrC,KAAMiR,EAAU/C,EAAE,EAGjEkE,EAAqBxE,IACrB5B,EAAKiF,SAASoB,MAAMhQ,MAAM,uBAC5BuL,EAAM0E,kBACN1E,EAAMG,kBAEH/B,EAAAG,IAAItL,KACP,mBACA+M,EACAvL,EAAMrC,KAAKC,KACXoC,EAAMrC,KACNiR,EACD,EAGGgB,EAAwBA,KACxB5P,EAAMrC,KAAKuD,SACXV,EAASzC,OACN4L,EAAAG,IAAItL,KAAK,gBAAiBwB,EAAMrC,KAAKC,KAAMoC,EAAMrC,KAAMiR,GAC5D5O,EAAMrC,KAAK6G,aAEXxE,EAAMrC,KAAK4D,SACXuI,EAAItL,KAAK,cAAewB,EAAMrC,KAAKC,KAAMoC,EAAMrC,KAAMiR,IAAQ,EAI3DkB,EAAoBA,CAAC/R,EAAOmS,KAC1BlQ,EAAArC,KAAKyG,WAAW8L,EAAGxN,OAAOtD,SAAUuK,EAAK3J,MAAMH,gBACrDsP,EAAAA,EAAAA,KAAS,KACD,MAAA5Q,EAAQoL,EAAKpL,MAAMR,MACzB4L,EAAKG,IAAItL,KAAK,QAASwB,EAAMrC,KAAKC,KAAM,CACtCyJ,aAAc9I,EAAM2I,kBACpBW,YAAatJ,EAAM+I,iBACnB6I,iBAAkB5R,EAAMgJ,sBACxB6I,gBAAiB7R,EAAMkJ,sBACvB,GACF,EAGE4I,EAAwBA,CAC5BC,EACA3S,EACA4S,KAEA/F,EAAkB7M,GAClBgM,EAAKG,IAAItL,KAAK,cAAe8R,EAAU3S,EAAM4S,EAAS,EAGlDC,EAAmBjF,IAClB5B,EAAK3J,MAAMyQ,WAChB9B,EAAWrD,kBAAkB,CAAEC,QAAOC,SAAUxL,GAAQ,EAGpD0Q,EAAkBnF,IACtBA,EAAMG,iBACD/B,EAAK3J,MAAMyQ,WAChB9B,EAAW7C,iBAAiB,CAC1BP,QACAC,SAAU,CAAES,IAAKyC,EAAM3Q,MAAOJ,KAAMqC,EAAMrC,OAC1C,EAGEgT,EAAcpF,IAClBA,EAAMG,gBAAe,EAGjBkF,EAAiBrF,IAChB5B,EAAK3J,MAAMyQ,WAChB9B,EAAWjB,gBAAgBnC,EAAM,EAG5B,OACLhC,KACAmF,QACA/E,OACAnJ,WACA+N,oBACAC,aACAC,mBAAArQ,WACAgR,EACAC,eACAH,qBACAQ,cACAK,oBACAH,wBACAE,oBACAO,wBACAG,kBACAE,iBACAC,aACAC,gBACAC,WAAUA,EAAAA,GACZ,I,yTAlVFC,EAAAA,EAAAA,IAgFM,OA9EJvN,IAAI,QACH0G,OAAK8G,EAAAA,EAAAA,IAAA,CAAUC,EAAAzH,GAAGvB,EAAC,QAAgBgJ,EAAAzH,GAAG2C,GAAE,WAAa8E,EAAQxQ,UAASwQ,EAAGzH,GAAA2C,GAAE,UAAY8E,EAAArT,KAAK+C,WAAkBsQ,EAAGzH,GAAA2C,GAAE,UAAY8E,EAAArT,KAAK8C,SAAgBuQ,EAAGzH,GAAA2C,GAAE,aAAe8E,EAAArT,KAAK2B,UAAiB0R,EAAAzH,GAAG2C,GAAE,WAAa8E,EAAKrT,KAAA2B,UAAY0R,EAAArT,KAAKyB,SAAgB4R,EAAA3B,aAAa2B,EAAIrT,QASxQsT,KAAK,WACLC,SAAS,KACR,gBAAeF,EAAAxQ,SACf,gBAAewQ,EAAKrT,KAAA2B,SACpB,eAAc0R,EAAKrT,KAAAyB,QACnBqR,UAAWO,EAAArH,KAAK3J,MAAMyQ,UACtB,WAAUO,EAAA5S,WAAW4S,EAAIrT,MACzBwT,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAON,EAAWtB,aAAAsB,EAAAtB,eAAA4B,IAAA,WACvBC,cAAWH,EAAE,KAAAA,EAAA,OAAAE,IAAAN,EAAAjB,mBAAAiB,EAAAjB,qBAAAuB,IACbE,YAASJ,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAON,EAAeR,iBAAAQ,EAAAR,mBAAAc,IAAA,WAC/BG,WAAQL,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAON,EAAcN,gBAAAM,EAAAN,kBAAAY,IAAA,WAC7BI,UAAON,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAON,EAAaJ,eAAAI,EAAAJ,iBAAAU,IAAA,WAC3BK,OAAIP,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAON,EAAUL,YAAAK,EAAAL,cAAAW,IAAA,cAEtBM,EAAAA,EAAAA,GAgCM,OA/BH3H,OAAK8G,EAAAA,EAAAA,IAAEC,EAAAzH,GAAGW,GAAG,OAAD,YACZoD,OAAKuE,EAAAA,EAAAA,IAAkB,CAAAC,aAAAd,EAAArT,KAAKiC,MAAK,GAAQoR,EAAArH,KAAK3J,MAAM+R,OAAS,QAAH,CAGnDf,EAAKrH,KAAA3J,MAAMgS,MAAQhB,EAAAH,aAAAoB,EAAAA,EAAAA,OAD3BC,EAAAA,EAAAA,IAYUC,EAAA,CAAA9T,IAAA,EAVP4L,OAAK8G,EAAAA,EAAAA,IAAA,CAAcC,EAAAzH,GAAGW,GAAE,sBAAmC8G,EAAGzH,GAAA2C,GAAE,OAAS8E,EAAArT,KAAKuD,QAAM,CAAsCV,UAAAwQ,EAAArT,KAAKuD,QAAU8P,EAAAxQ,YAOzI2Q,SAAKE,EAAAA,EAAAA,IAAOL,EAAqBpB,sBAAA,Y,kBAElC,IAAiD,GAAAqC,EAAAA,EAAAA,OAAjDC,EAAAA,EAAAA,KAAiDE,EAAAA,EAAAA,IAAjCpB,EAAKrH,KAAA3J,MAAMgS,MAAQhB,EAAUH,iB,iDAGvCG,EAAA3C,eAAA4D,EAAAA,EAAAA,OADRC,EAAAA,EAAAA,IAOEG,EAAA,CAAAhU,IAAA,EALC,cAAa2S,EAAKrT,KAAAyB,QAClBC,cAAe2R,EAAKrT,KAAA0B,cACpBC,WAAY0R,EAAKrT,KAAA2B,SACjB6R,QAAKC,EAAN,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,QAAW,WACViB,SAAQtB,EAAAlB,mBAAA,gEAAAyC,EAAAA,EAAAA,IAAA,WAGHvB,EAAArT,KAAK+B,UAAAuS,EAAAA,EAAAA,OADbC,EAAAA,EAAAA,IAKUC,EAAA,CAAA9T,IAAA,EAHP4L,OAAK8G,EAAAA,EAAAA,IAAG,CAAAC,EAAAzH,GAAGW,GAAG,OAAD,gBAA0B8G,EAAAzH,GAAG2C,GAAG,cAAD,C,kBAE7C,IAAW,EAAXsG,EAAAA,EAAAA,IAAWC,M,wCAEbD,EAAAA,EAAAA,IAA6DE,EAAA,CAA9C/U,KAAMqT,EAAArT,KAAO,iBAAgBqT,EAAA5H,eAAA,uCAE9CoJ,EAAAA,EAAAA,IAoByBG,EAAA,MAAA3I,SAAA4I,EAAAA,EAAAA,KAnBvB,IAkBM,EAjBG5B,EAAA5C,mBAAqB4C,EAAAzC,mBAAAsE,EAAAA,EAAAA,MAAAZ,EAAAA,EAAAA,OAD9BnB,EAAAA,EAAAA,IAkBM,OAAAzS,IAAA,EAfH4L,OAAK8G,EAAAA,EAAAA,IAAEC,EAAAzH,GAAGW,GAAG,OAAD,aACb+G,KAAK,QACJ,gBAAeD,EAAAxQ,UAAA,GAEhByR,EAAAA,EAAAA,KAAA,IAAAnB,EAAAA,EAAAA,IAUEgC,EAAAA,GATgB,MAAAC,EAAAA,EAAAA,IAAA/B,EAAArT,KAAK8B,YAAdoD,K,WADTqP,EAAAA,EAAAA,IAUEc,EAAA,CARC3U,IAAK2S,EAAA5S,WAAWyE,GAChB,iBAAgBmO,EAAA5H,cAChB,sBAAqB4H,EAAA5C,kBACrB,gBAAe4C,EAAA3C,aACf1Q,KAAMkF,EACN4H,UAAWuG,EAAAvG,UACXzK,MAAOgR,EAAAhR,MACPiT,aAAajC,EAAAX,uBAAA,8G,qBAdRW,EAAQxQ,aAAA+R,EAAAA,EAAAA,IAAA,c,eA7DZ,CAAAW,EAAAA,GAAAlC,EAAArT,KAAK8C,U,yJCEV,SAAS0S,GAAW,IAAErI,GAAOvM,GAClC,MAAMgL,GAAKC,EAAAA,EAAAA,IAAa,QAClB4J,GAAYC,EAAAA,EAAAA,IAAW,IACvBC,GAAgBD,EAAAA,EAAAA,IAAW,KACjCE,EAAAA,EAAAA,KAAU,KACRC,GAAc,KAEhBC,EAAAA,EAAAA,KAAU,KACRL,EAAUrV,MAAQyD,MAAMkS,KAAK5I,EAAI/M,MAAM4V,iBAAiB,oBACxDL,EAAcvV,MAAQyD,MAAMkS,KAAK5I,EAAI/M,MAAM4V,iBAAiB,wBAAwB,KAEtF3E,EAAAA,EAAAA,IAAMsE,GAAgBrE,IACpBA,EAAIjL,SAAS4P,IACXA,EAASC,aAAa,WAAY,KAAK,GACvC,IAEJ,MAAMC,EAAiB5D,IACrB,MAAM6D,EAAc7D,EAAGxN,OACvB,IAAKqR,EAAYxE,UAAU5N,SAAS4H,EAAGvB,EAAE,SACvC,OACF,MAAMgM,EAAO9D,EAAG8D,KAChBZ,EAAUrV,MAAQyD,MAAMkS,KAAK5I,EAAI/M,MAAM4V,iBAAkB,IAAGpK,EAAG2C,GAAG,gCAClE,MAAM+H,EAAeb,EAAUrV,MAAMwE,QAAQwR,GAC7C,IAAIG,EACJ,GAAI,CAACC,EAAAA,EAAAA,GAAeA,EAAAA,EAAAA,MAAiBxS,SAASqS,GAAO,CAEnD,GADA9D,EAAGxE,iBACCsI,IAASG,EAAAA,EAAAA,GAAe,CAC1BD,GAA8B,IAAlBD,EAAsB,EAAqB,IAAjBA,EAAqBA,EAAe,EAAIb,EAAUrV,MAAMmB,OAAS,EACvG,MAAMkV,EAAaF,EACnB,MAAO,EAAM,CACX,GAAI3V,EAAMR,MAAMyI,QAAQ4M,EAAUrV,MAAMmW,GAAWG,QAAQhW,KAAKsC,SAC9D,MAEF,GADAuT,IACIA,IAAcE,EAAY,CAC5BF,GAAa,EACb,KACZ,CACcA,EAAY,IACdA,EAAYd,EAAUrV,MAAMmB,OAAS,EAEjD,CACA,KAAa,CACLgV,GAA8B,IAAlBD,EAAsB,EAAIA,EAAeb,EAAUrV,MAAMmB,OAAS,EAAI+U,EAAe,EAAI,EACrG,MAAMG,EAAaF,EACnB,MAAO,EAAM,CACX,GAAI3V,EAAMR,MAAMyI,QAAQ4M,EAAUrV,MAAMmW,GAAWG,QAAQhW,KAAKsC,SAC9D,MAEF,GADAuT,IACIA,IAAcE,EAAY,CAC5BF,GAAa,EACb,KACZ,CACcA,GAAad,EAAUrV,MAAMmB,SAC/BgV,EAAY,EAExB,CACA,EACqB,IAAfA,GAAoBd,EAAUrV,MAAMmW,GAAWI,OACrD,CACQ,CAACH,EAAAA,EAAAA,KAAiBA,EAAAA,EAAAA,OAAkBxS,SAASqS,KAC/C9D,EAAGxE,iBACHqI,EAAYQ,SAEd,MAAMC,EAAWT,EAAY5G,cAAc,qBACvC,CAACgH,EAAAA,EAAAA,MAAkBA,EAAAA,EAAAA,OAAkBxS,SAASqS,IAASQ,IACzDtE,EAAGxE,iBACH8I,EAASD,QACf,GAEEE,EAAAA,EAAAA,KAAiB3J,EAAK,UAAWgJ,GACjC,MAAMN,EAAeA,KACnB,IAAIkB,EACJtB,EAAUrV,MAAQyD,MAAMkS,KAAK5I,EAAI/M,MAAM4V,iBAAkB,IAAGpK,EAAG2C,GAAG,gCAClEoH,EAAcvV,MAAQyD,MAAMkS,KAAK5I,EAAI/M,MAAM4V,iBAAiB,yBAC5D,MAAMgB,EAAc7J,EAAI/M,MAAM4V,iBAAkB,IAAGpK,EAAG2C,GAAG,6BACrDyI,EAAYzV,OACdyV,EAAY,GAAGd,aAAa,WAAY,KAGb,OAA5Ba,EAAKtB,EAAUrV,MAAM,KAAuB2W,EAAGb,aAAa,WAAY,IAAI,CAEjF,C,kCClBA,MAAK7K,GAAaC,EAAAA,EAAAA,IAAa,CAC7BrI,KAAM,SACNgN,WAAY,CAAEgH,WAAUA,GACxB5U,MAAO,CACLpC,KAAM,CACJsL,KAAM1H,MACNwI,QAASA,IAAM,IAEjB6K,UAAW,CACT3L,KAAM4L,QAER1G,kBAAmB,CACjBlF,KAAMiF,QACNnE,SAAS,GAEX7H,QAAS2S,OACTjV,cAAesO,QACf7M,iBAAkB6M,QAClBwB,kBAAmB,CACjBzG,KAAMiF,QACNnE,SAAS,GAEX6F,iBAAkB1B,QAClBvJ,iBAAkB,CAChBsE,KAAMiF,QACNnE,SAAS,GAEXpI,iBAAkB,CAChBsH,KAAMiF,QACNnE,SAAS,GAEXjD,mBAAoBvF,MAGpBE,oBAAqBF,MAGrBK,eAAgB,CAACiT,OAAQC,QACzB3L,cAAeC,SACfgF,aAAc,CACZnF,KAAMiF,QACNnE,SAAS,GAEXyG,UAAW,CACTvH,KAAMiF,QACNnE,SAAS,GAEXyB,UAAWpC,SACX+B,UAAW/B,SACXrJ,MAAO,CACLkJ,KAAMrL,OACNmM,QAASA,KAAA,CACPhI,SAAU,WACVE,MAAO,QACP5C,SAAU,cAGd8B,KAAM,CACJ8H,KAAMiF,QACNnE,SAAS,GAEXgL,iBAAkB7G,QAClB1J,KAAM4E,SACNlD,iBAAkBkD,SAGlBoB,UAAW0D,QACX4D,OAAQ,CACN7I,KAAM6L,OACN/K,QAAS,IAEXgI,KAAM,CACJ9I,KAAM+L,EAAAA,KAGV3G,MAAO,CACL,eACA,iBACA,aACA,mBACA,gBACA,cACA,QACA,kBACA,gBACA,YACA,kBACA,kBACA,kBAEFhF,MAAMtJ,EAAO8J,GACL,QAAEoL,IAAMC,EAAAA,EAAAA,MACR5L,GAAKC,EAAAA,EAAAA,IAAa,QAElBjL,GAAQgF,EAAAA,EAAAA,IACZ,IAAIqC,EAAU,CACZvH,IAAK2B,EAAMmC,QACXvE,KAAMoC,EAAMpC,KACZwD,KAAMpB,EAAMoB,KACZpB,MAAOA,EAAMA,MACbyE,KAAMzE,EAAMyE,KACZ5C,eAAgB7B,EAAM6B,eACtBhC,cAAeG,EAAMH,cACrB+E,iBAAkB5E,EAAM4E,iBACxBmC,mBAAoB/G,EAAM+G,mBAC1BrF,oBAAqB1B,EAAM0B,oBAC3BE,iBAAkB5B,EAAM4B,iBACxBN,iBAAkBtB,EAAMsB,iBACxB6E,iBAAkBnG,EAAMmG,oBAI5B5H,EAAMR,MAAMgD,aAEZ,MAAMgF,GAAOxC,EAAAA,EAAAA,IAAUhF,EAAMR,MAAMgI,MAC7BpH,GAAc4E,EAAAA,EAAAA,IAAU,MACxBuH,GAAMvH,EAAAA,EAAAA,IAA2B,MACjCwH,GAAiBxH,EAAAA,EAAAA,IAA2B,OAE5C,kBAAEiH,GAAsBL,EAA4BnK,IAEpD,UAAEgL,GAAcH,EAAmB,CACvC7K,QACA8J,MACAgB,MACAC,iBACAxM,UAGS4U,EAAA,CAAErI,OAAOvM,GAEd,MAAA6W,GAAUC,EAAAA,EAAAA,KAAS,KACjB,iBAAE5V,GAAesG,EAAKhI,MAE1B,OAAC0B,GACqB,IAAtBA,EAAWP,QACXO,EAAW6V,OAAM,EAAG7U,cAAeA,GAAQ,KAI/CuO,EAAAA,EAAAA,KACE,IAAMhP,EAAM6B,iBACXyE,IACO/H,EAAAR,MAAMgL,kBAAkBzC,EAAO,KAIzC0I,EAAAA,EAAAA,KACE,IAAMhP,EAAM+G,qBACXT,IACO/H,EAAAR,MAAMkJ,qBAAqBX,EAAO,KAI5C0I,EAAAA,EAAAA,KACE,IAAMhP,EAAM0B,sBACX4E,IACO/H,EAAAR,MAAMyK,uBAAuBlC,EAAO,KAI9C0I,EAAAA,EAAAA,KACE,IAAMhP,EAAMpC,OACX0I,IACO/H,EAAAR,MAAMsD,QAAQiF,EAAO,GAE7B,CAAE3D,MAAM,KAGVqM,EAAAA,EAAAA,KACE,IAAMhP,EAAMH,gBACXyG,IACC/H,EAAMR,MAAM8B,cAAgByG,CAAA,IAI1B,MAAAJ,EAAUnI,IACd,IAAKiC,EAAMmG,iBACH,UAAInF,MAAM,mDACZzC,EAAAR,MAAMmI,OAAOnI,EAAM,EAGrBqR,EAAczR,GACXS,EAAe4B,EAAMmC,QAASxE,EAAKC,MAGtC2X,EAAe3X,IACnB,IAAKoC,EAAMmC,QACH,UAAInB,MAAM,6CAClB,MAAMrD,EAAOY,EAAMR,MAAMyI,QAAQ5I,GACjC,IAAKD,EAAM,MAAO,GACZ,MAAA6X,EAAO,CAAC7X,EAAKC,MACnB,IAAI+B,EAAShC,EAAKgC,OACX,MAAAA,GAAUA,IAAWoG,EAAKhI,MAC1ByX,EAAAtS,KAAKvD,EAAO/B,MACjB+B,EAASA,EAAOA,OAElB,OAAO6V,EAAKC,SAAQ,EAGhBvO,EAAkBA,CACtBC,EACAC,IAEO7I,EAAMR,MAAMmJ,gBAAgBC,EAAUC,GAGzCE,EAAkBH,GACf5I,EAAMR,MAAMuJ,eAAeH,GAG9BsB,EAAiBA,KACf,MAAAiN,EAAcnX,EAAMR,MAAM0K,iBACzB,OAAAiN,EAAcA,EAAY9X,KAAO,MAGpC+X,EAAgBA,KACpB,IAAK3V,EAAMmC,QACH,UAAInB,MAAM,+CAClB,MAAM0U,EAAcjN,IACb,OAAAiN,EAAcA,EAAY1V,EAAMmC,SAAW,MAG9CkG,EAAkBA,CAACb,EAAeL,KACtC,IAAKnH,EAAMmC,QACH,UAAInB,MAAM,iDACZzC,EAAAR,MAAMsK,gBAAgBb,EAAOL,EAAS,EAGxCmB,EAAiBA,CAAC7C,EAAiB0B,KACvC,IAAKnH,EAAMmC,QACH,UAAInB,MAAM,gDACZzC,EAAAR,MAAMuK,eAAe7C,EAAM0B,EAAS,EAGtC/C,EAAaA,CACjBxG,EACAwB,EACAuD,KAEApE,EAAMR,MAAMqG,WAAWxG,EAAMwB,EAASuD,EAAK,EAGvC4E,EAAsBA,IACnBhJ,EAAMR,MAAMwJ,sBAGfE,EAAqBA,IAClBlJ,EAAMR,MAAM0J,qBAGfiB,EAAiBA,CAAC/K,EAAYkL,GAAyB,KAC3D,IAAK7I,EAAMmC,QACH,UAAInB,MAAM,gDAEE1C,EAAAC,EAAOuL,EAAItL,MAAM,IACnCD,EAAMR,MAAM6K,mBAAmBjL,EAAMkL,IACtC,EAGG+M,EAAgBA,CAACvX,EAAewK,GAAyB,KAC7D,IAAK7I,EAAMmC,QACH,UAAInB,MAAM,+CAEE1C,EAAAC,EAAOuL,EAAItL,MAAM,IACnCD,EAAMR,MAAMgL,kBAAkB1K,EAAKwK,IACpC,EAGGrC,EAAW5I,GACRW,EAAMR,MAAMyI,QAAQ5I,GAGvBkF,EAAUlF,IACRW,EAAAR,MAAM+E,OAAOlF,EAAK,EAGpBgJ,EAASA,CACbhJ,EACAkJ,KAEMvI,EAAAR,MAAM6I,OAAOhJ,EAAMkJ,EAAW,EAGhCxD,EAAeA,CACnB1F,EACA+I,KAEMpI,EAAAR,MAAMuF,aAAa1F,EAAM+I,EAAQ,EAGnCnD,EAAcA,CAClB5F,EACA+I,KAEMpI,EAAAR,MAAMyF,YAAY5F,EAAM+I,EAAQ,EAGlCkP,EAAmBA,CACvBvF,EACA3S,EACAiR,KAEApE,EAAkB7M,GAClBmM,EAAItL,KAAK,cAAe8R,EAAU3S,EAAMiR,EAAS,EAG7CkH,EAAoBA,CAACzX,EAAcT,KACvC,IAAKoC,EAAMmC,QACH,UAAInB,MAAM,gDACZzC,EAAAR,MAAMkH,eAAe5G,EAAKT,EAAK,EAchC,OAXP2M,EAAAA,EAAAA,IAAQ,WAAY,CAClBT,MACA9J,QACAzB,QACAwH,OACApH,cACAiQ,UAAUC,EAAAA,EAAAA,SAGZtE,EAAAA,EAAAA,IAAQwL,EAAAA,OAAoB,GAErB,CACLxM,KAEAhL,QACAwH,OACApH,cACAqM,YACAF,MACAC,iBAGAqK,UAGAlP,SAAA9H,WACAgR,EACAmG,cACArO,kBACAI,iBACAmB,iBACAkN,gBACAtN,kBACAC,iBACAlE,aACAmD,sBACAE,qBACAiB,iBACAkN,gBACAV,IACA1O,UACA1D,SACA8D,SACAtD,eACAE,cACAqS,mBACAC,oBACF,I,2EA1aFhF,EAAAA,EAAAA,IAkCM,OAjCJvN,IAAI,MACH0G,OAAK8G,EAAAA,EAAAA,IAAA,CAAUC,EAAAzH,GAAGvB,IAAWgJ,EAAGzH,GAAA2C,GAAE,aAAe8E,EAAAhG,UAAUE,cAAqB8F,EAAGzH,GAAA2C,GAAE,kBAAoB8E,EAAAhG,UAAUI,WAAkB4F,EAAGzH,GAAA2C,GAAE,aAAiC,UAAlB8E,EAAAhG,UAAUK,UAAgC,EAAA2F,EAAAzH,GAAGyM,EAAC,sBAAwBhF,EAAgBgE,oBAOhP/D,KAAK,WAELgB,EAAAA,EAAAA,KAAA,IAAAnB,EAAAA,EAAAA,IAUEgC,EAAAA,GATgB,MAAAC,EAAAA,EAAAA,IAAA/B,EAAAjL,KAAKtG,YAAdoD,K,WADTqP,EAAAA,EAAAA,IAUEc,EAAA,CARC3U,IAAK2S,EAAA5S,WAAWyE,GAChBlF,KAAMkF,EACN7C,MAAOgR,EAAAhR,MACPyK,UAAWuG,EAAAvG,UACX,sBAAqBuG,EAAA5C,kBACrB,gBAAe4C,EAAA3C,aACf,iBAAgB2C,EAAA5H,cAChB6J,aAAajC,EAAA6E,kBAAA,8G,MAEL7E,EAAAoE,UAAAnD,EAAAA,EAAAA,OAAXnB,EAAAA,EAAAA,IAMM,OAAAzS,IAAA,EANe4L,OAAK8G,EAAAA,EAAAA,IAAEC,EAAAzH,GAAGsC,EAAE,iBAAD,EAC9BoK,EAAAA,EAAAA,IAIOjF,EAAAkF,OAAA,YAJP,KACE,IAEOxB,EAFA,QAAW9C,EAAAA,EAAAA,GAAC,OAAD,CACC3H,OAAA8G,EAAAA,EAAAA,IAAAC,EAAAzH,GAAAsC,EAAC,iB,kEAOrB,KAAK0G,EAAAA,EAAAA,IAAE,QAAI,IAAAM,EAAAA,EAAAA,KAAAjB,EAAAA,EAAAA,GAAC,MAAD,CAFJrO,IAAA,iBAA2B0G,OAAA8G,EAAAA,EAAAA,IAAAC,EAAAzH,GAAAsC,EAAA,oB,mLC9BzCsK,EAAAA,QAAgBC,IACdA,EAAIC,UAAUF,EAAAA,KAAWA,EAAK,EAE3B,MAACG,EAAQH,EAEDI,EAASD,E,MCLf,SAASE,EAAOxF,EAAMI,EAAQqF,EAAQC,EAAQC,EAAOC,GAC1D,MAAMC,EAAqB,EACrBC,EAAuB,KAC7B,OAAO,WAAc,QAAoB,MAAO,KAAM,EAAC,QAAaD,EAAoB,CACtFtT,IAAK,UACL3F,KAAMoT,EAAK+F,KACX,gBAAiB,GACjB,WAAY,SACZ,kBAAkB,EAClB,uBAAwB/F,EAAKgG,UAC7BhX,MAAO,CACLgC,SAAU,WACVE,MAAO,SAER,KAAM,EAAG,CAAC,OAAQ,0BAA0B,QAAa4U,EAAsB,CAChFG,MAAO,GACP9F,QAASC,EAAO,KAAOA,EAAO,GAAK8F,GAAUlG,EAAKmG,QAAQC,SACzD,CACDpN,SAAS,SAAS,IAAM,EAAC,QAAiB,SAC1CqN,EAAG,KACD,QAAaP,EAAsB,CACrCG,MAAO,GACP/N,KAAM,UACNoO,OAAO,EACPnG,QAASH,EAAKuG,iBACb,CACDvN,SAAS,SAAS,IAAM,EAAC,QAAiB,WAC1CqN,EAAG,GACF,EAAG,CAAC,aACT,C,wBCvBA,MAAMG,EAMJnX,YAAarC,EAAWgZ,IAAkBS,EAAAA,EAAAA,GAAA,mBAAAA,EAAAA,EAAAA,GAAA,0BAAAA,EAAAA,EAAAA,GAAA,YAH3B,KACfA,EAAAA,EAAAA,GAAA,uBAGErV,KAAKpE,GAAKA,EACVoE,KAAK4U,UAAYA,CACnB,E,wBCVF,G,SAAe,QAAgB,CAC7B1N,QAEE,MAAMoO,GAAQ,UAERC,EAAQD,EAAMC,MACd/Z,GAAO,QAAS,IAAI4Z,EAASG,EAAM3Z,GAAI2Z,EAAMX,YAE7CO,EAAkB,KACtB3Z,EAAKga,QAAQtQ,iBAAiBQ,MAAK,CAACC,EAAGC,IAAMD,EAAIC,KAEjD,QAAU,CACR6P,QAAS,OACT3O,KAAM,WACN,EASJ,OANA,SAAU4O,gBACF,UAAmBC,MAAKC,IAC5Bpa,EAAKmZ,KAAOiB,EAAIpa,IAAI,GACpB,IAGG,KACF,QAAOA,GACV2Z,kBAEJ,K,SC1BF,MAAMU,IAA2B,QAAgB,EAAQ,CAAC,CAAC,SAASzB,GAAQ,CAAC,YAAY,qBAEzF,S,0ICRY,MAAC0B,GAAaC,EAAAA,EAAAA,IAAW,CACnCpa,MAAO,CACLmL,KAAM,CAAC4L,OAAQC,QACf/K,QAAS,IAEXoO,IAAK,CACHlP,KAAM6L,OACN/K,QAAS,IAEXqO,MAAOlK,QACPmK,OAAQnK,QACRjF,KAAM,CACJA,KAAM4L,OACNyD,OAAQ,CAAC,UAAW,UAAW,UAAW,OAAQ,UAClDvO,QAAS,Y,qECSC,CACZpJ,KAAM,Y,uDAKF2I,GAAKC,EAAAA,EAAAA,IAAa,SAElBgP,GAAUnD,EAAAA,EAAAA,KAAiB,IAC3BrV,EAAMqY,MAAc,IAEpBI,EAAAA,EAAAA,IAASzY,EAAMjC,SAAU0a,EAAAA,EAAAA,IAASzY,EAAMoY,MACnCpY,EAAMoY,IAAMpY,EAAMjC,MAAQ,GAAGiC,EAAMoY,OAErC,GAAGpY,EAAMjC,U,OAGL2a,EAAA,CAEXF,Y,6mBCzCU,MAACG,GAAUC,EAAAA,EAAAA,IAAYC,G,kCCKvB,MAACC,EAAe,CAAC,UAAW,OAAQ,UAAW,SAC9CC,GAAkBC,EAAAA,EAAAA,GAAQ,CACrCC,YAAa,GACbC,QAAQ,EACRC,0BAA0B,EAC1BC,SAAU,IACVpH,UAAM,EACNhU,GAAI,GACJ6Z,QAAS,GACTwB,aAAS,EACTC,WAAW,EACXpQ,KAAM,OACNqQ,OAAQ,GACRC,OAAQ,EACRC,UAAU,EACVC,UAAW,EACXC,SAAUC,EAAAA,GAAWC,SAASC,UAAO,IAE1BC,GAAe5B,EAAAA,EAAAA,IAAW,CACrCc,YAAa,CACX/P,KAAM4L,OACN9K,QAAS+O,EAAgBE,aAE3BC,OAAQ,CACNhQ,KAAMiF,QACNnE,QAAS+O,EAAgBG,QAE3BC,yBAA0B,CACxBjQ,KAAMiF,QACNnE,QAAS+O,EAAgBI,0BAE3BC,SAAU,CACRlQ,KAAM6L,OACN/K,QAAS+O,EAAgBK,UAE3BpH,KAAM,CACJ9I,KAAM+L,EAAAA,GACNjL,QAAS+O,EAAgB/G,MAE3BhU,GAAI,CACFkL,KAAM4L,OACN9K,QAAS+O,EAAgB/a,IAE3B6Z,QAAS,CACP3O,MAAM8Q,EAAAA,EAAAA,IAAe,CACnBlF,OACAjX,OACAwL,WAEFW,QAAS+O,EAAgBlB,SAE3BwB,QAAS,CACPnQ,MAAM8Q,EAAAA,EAAAA,IAAe3Q,UACrBF,UAAU,GAEZmQ,UAAW,CACTpQ,KAAMiF,QACNnE,QAAS+O,EAAgBO,WAE3BpQ,KAAM,CACJA,KAAM4L,OACNyD,OAAQO,EACR9O,QAAS+O,EAAgB7P,MAE3BqQ,OAAQ,CACNrQ,KAAM6L,OACN/K,QAAS+O,EAAgBQ,QAE3BC,OAAQ,CACNtQ,KAAM6L,OACN/K,QAAS+O,EAAgBS,QAE3BC,SAAU,CACRvQ,KAAMiF,QACNnE,QAAS+O,EAAgBU,UAE3BC,UAAW,CACTxQ,KAAM6L,OACN/K,QAAS+O,EAAgBW,aAGhBO,EAAe,CAC1BC,QAASA,KAAM,GCxFJC,GAAYC,EAAAA,EAAAA,IAAgB,IAC5BC,EAAerc,IAC1B,MAAMsc,EAAMH,EAAU3U,WAAWoJ,GAAaA,EAAS5Q,KAAOA,IACxDuc,EAAUJ,EAAUG,GAC1B,IAAIE,EAIJ,OAHIF,EAAM,IACRE,EAAOL,EAAUG,EAAM,IAElB,CAAEC,UAASC,OAAM,EAEbC,EAAiBzc,IAC5B,MAAM,KAAEwc,GAASH,EAAYrc,GAC7B,OAAKwc,EAEEA,EAAKE,GAAGC,QAAQtN,OAAOtP,MADrB,CAC0B,EAExB6c,EAAmBA,CAAC5c,EAAIub,KACnC,MAAMe,EAAMH,EAAU3U,WAAWoJ,GAAaA,EAAS5Q,KAAOA,IAC9D,OAAOsc,EAAM,EAAI,GAAKf,CAAM,E,kECyChB,CACZ3Y,KAAM,c,gEAHF,MAAEia,GAAUC,EAAAA,gBASZ,GAAEvR,EAAA,OAAIiQ,IAAWuB,EAAAA,EAAAA,IAA2B,YAC5C,cAAEC,EAAA,WAAeC,GAAezB,EAEhC0B,GAAa3X,EAAAA,EAAAA,MACb9C,GAAU8C,EAAAA,EAAAA,KAAI,GACd0J,GAAS1J,EAAAA,EAAAA,IAAI,GAEnB,IAAI4X,EAEE,MAAAC,GAAY/F,EAAAA,EAAAA,KAA8B,IAC9CrV,EAAMkJ,KAAuB,UAAflJ,EAAMkJ,KAAmB,SAAWlJ,EAAMkJ,KAAQ,SAE5DmS,GAAYhG,EAAAA,EAAAA,KAAS,KACzB,MAAMnM,EAAOlJ,EAAMkJ,KACZ,OAAE,CAACK,EAAG+R,GAAG,OAAQpS,IAAQA,GAAQqS,EAAAA,GAAkBrS,GAAO,IAE7DsS,GAAgBnG,EAAAA,EAAAA,KACpB,IAAMrV,EAAMgS,MAAQuJ,EAAAA,GAAkBvb,EAAMkJ,OAAS,KAGjDuS,GAAapG,EAAAA,EAAAA,KAAU,IAAKoF,EAAcza,EAAMhC,MAChDub,GAASlE,EAAAA,EAAAA,KACZ,IAAKuF,EAAiB5a,EAAMhC,GAAIgC,EAAMuZ,QAAUkC,EAAW1d,QAExDsP,GAASgI,EAAAA,EAAAA,KAAU,IAAapI,EAAOlP,MAAQwb,EAAOxb,QACtD2d,GAAcrG,EAAAA,EAAAA,KAAwB,KAAM,CAChDrI,IAAK,GAAGuM,EAAOxb,UACfyb,OAAQwB,EAAcjd,UAGF,SAAA4d,IACG,IAAnB3b,EAAMoZ,YACNwC,KAAMT,IAAcU,EAAAA,EAAAA,KAAa,KAC7BC,GAAA,GACL9b,EAAMoZ,UAAQ,CAGG,SAAA2C,IACR,MAAAZ,GAAAA,GAAA,CAGG,SAAAW,IACfrb,EAAQ1C,OAAQ,EAGlB,SAAAie,GAAiB,KAAEhI,IACbA,IAASG,EAAAA,EAAAA,KAEL2H,GACR,C,OAGFvI,EAAAA,EAAAA,KAAU,KACGoI,IACAV,IACXxa,EAAQ1C,OAAQ,MAIhBiR,EAAAA,EAAAA,KAAC,IAAKhP,EAAM0Z,YACZ,KACaqC,IACAJ,GAAA,KAIElH,EAAAA,EAAAA,KAAAoF,SAAU,UAAWmC,IAEtCC,EAAAA,EAAAA,KAAkBf,GAAY,KAC5BjO,EAAOlP,MAAQmd,EAAWnd,MAAO0O,wBAAwBQ,MAAA,IAG9CyL,EAAA,CACXjY,UACA4M,SACAyO,U,ypDC5IU,MAACI,GAAsB/D,EAAAA,EAAAA,IAAW,CAC5CgE,KAAM,CACJjT,KAAMiF,QACNnE,SAAS,GAEXoS,OAAQ,CACNlT,MAAM8Q,EAAAA,EAAAA,IAAenc,SAEvBwe,KAAMC,EAAAA,GACNC,OAAQ,CACNrT,MAAM8Q,EAAAA,EAAAA,IAAenc,SAEvB2e,qBAAsB,CACpBtT,MAAM8Q,EAAAA,EAAAA,IAAenc,SAEvB4e,mBAAoB,CAClBvT,KAAMiF,QACNnE,SAAS,GAEX6N,QAAS,CACP3O,MAAM8Q,EAAAA,EAAAA,IAAenc,SAEvB2b,OAAQzE,OACR2H,UAAW,CACTxT,KAAM4L,OACN9K,QAAS,QCxBA2S,EAAgB,IACN1T,EAAAA,EAAAA,IAAgB,CACrCrI,KAAM,mBACNZ,MAAOkc,EACP5S,MAAMtJ,GAAO,MAAE+J,KACbiF,EAAAA,EAAAA,KAAM,IAAMhP,EAAM6X,UAAU5I,IAC1BpR,OAAOuF,OAAOuZ,EAAsB,MAAP1N,EAAcA,EAAM,GAAG,GACnD,CAAE2N,WAAW,EAAMja,MAAM,IAC5B,MAAM1C,GAAS4c,EAAAA,EAAAA,IAAoB7c,GACnC,MAAO,KAAMiW,EAAAA,EAAAA,IAAWlM,EAAO,UAAW,CAAE9J,OAAkB,MAAVA,OAAiB,EAASA,EAAOlC,OACzF,ICCA,IAAI+e,EAAO,EACX,MAAMC,EAAoBC,IACxB,MAAM1c,GAAW0c,IAAUvN,EAAAA,EAAAA,IAASuN,KAAWC,EAAAA,EAAAA,IAAQD,KAAWxN,EAAAA,EAAAA,IAAWwN,GAAU,CAAEnF,QAASmF,GAAWA,EACvGE,EAAa,IACdnE,KACAzY,GAEL,GAAK4c,EAAWvD,UAET,IAAIlK,EAAAA,EAAAA,IAASyN,EAAWvD,UAAW,CACxC,IAAIA,EAAWE,SAAS1M,cAAc+P,EAAWvD,WAC5CwD,EAAAA,EAAAA,IAAUxD,MACb7K,EAAAA,EAAAA,GAAU,YAAa,6EACvB6K,EAAWE,SAASC,MAEtBoD,EAAWvD,SAAWA,CAC1B,OARIuD,EAAWvD,SAAWE,SAASC,KASjC,OAAOoD,CAAU,EAEbE,EAAgBxO,IACpB,MAAM0L,EAAMH,EAAAA,QAAkBvL,GAC9B,IAAa,IAAT0L,EACF,OACFH,EAAAA,OAAiBG,EAAK,GACtB,MAAM,QAAE+C,GAAYzO,EACpByO,EAAQvB,OAAO,EAEXwB,EAAgBA,EAAG3D,cAAarZ,GAAWid,KAC/C,MAAMvf,EAAM,WAAU8e,IAChBU,EAAcld,EAAQ+Y,QACtBoE,EAAY5D,SAAS6D,cAAc,OACnC1d,EAAQ,IACTM,EACHtC,KACAqb,QAASA,KACQ,MAAfmE,GAA+BA,IAC/BJ,EAAaxO,EAAS,EAExB+O,UAAWA,MACTnH,EAAAA,EAAAA,IAAO,KAAMiH,EAAU,GAGrBzN,GAAQwC,EAAAA,EAAAA,IAAYoL,EAAoB5d,GAAOwP,EAAAA,EAAAA,IAAWxP,EAAM6X,WAAYoF,EAAAA,EAAAA,IAAQjd,EAAM6X,SAAW,CACzG7N,SAASwF,EAAAA,EAAAA,IAAWxP,EAAM6X,SAAW7X,EAAM6X,QAAU,IAAM7X,EAAM6X,SAC/D,MACJ7H,EAAM6N,WAAaN,GAAW1F,EAAQiG,UACtCtH,EAAAA,EAAAA,IAAOxG,EAAOyN,GACd9D,EAASoE,YAAYN,EAAUO,mBAC/B,MAAMtD,EAAK1K,EAAMqG,UACXgH,EAAU,CACdvB,MAAOA,KACLpB,EAAGC,QAAQla,QAAQ1C,OAAQ,CAAK,GAG9B6Q,EAAW,CACf5Q,KACAgS,QACA0K,KACA2C,UACArd,MAAOgQ,EAAMqG,UAAUrW,OAEzB,OAAO4O,CAAQ,EAEXiJ,EAAUA,CAACvX,EAAU,GAAIid,KAC7B,IAAK3D,EAAAA,GACH,MAAO,CAAEkC,MAAOA,KAAY,GAC9B,IAAIrD,EAAAA,EAAAA,IAASkE,EAAAA,MAAsBxC,EAAAA,QAAoBwC,EAAAA,IACrD,MAAO,CAAEb,MAAOA,KAAY,GAE9B,MAAMoB,EAAaH,EAAiBzc,GACpC,GAAI4c,EAAWzD,UAAYU,EAAAA,OAAkB,CAC3C,MAAM5J,EAAY4J,EAAAA,MAAe,EAAGnK,MAAO0K,MACzC,IAAIhG,EACJ,OAA2B,OAAlBA,EAAKgG,EAAG1a,YAAiB,EAAS0U,EAAGmD,WAAaqF,EAAWrF,OAAO,IAE/E,GAAItH,EAGF,OAFAA,EAAUvQ,MAAM0Z,WAAa,EAC7BnJ,EAAUvQ,MAAMkJ,KAAOgU,EAAWhU,KAC3BqH,EAAU8M,OAEvB,CACE,MAAMzO,EAAW0O,EAAcJ,EAAYK,GAE3C,OADApD,EAAAA,KAAevL,GACRA,EAASyO,OAAO,EAQlB,SAASY,EAAS/U,GACvB,IAAK,MAAM0F,KAAYuL,EAChBjR,GAAQA,IAAS0F,EAAS5O,MAAMkJ,MACnC0F,EAASyO,QAAQvB,OAGvB,CAZAhD,EAAAA,SAAsB5P,IACpB2O,EAAQ3O,GAAQ,CAAC5I,EAAU,GAAIud,KAC7B,MAAMX,EAAaH,EAAiBzc,GACpC,OAAOuX,EAAQ,IAAKqF,EAAYhU,QAAQ2U,EAAW,CACpD,IASHhG,EAAQoG,SAAWA,EACnBpG,EAAQiG,SAAW,KC/GP,MAACI,GAAYC,EAAAA,EAAAA,IAAoBtG,EAAS,W","sources":["webpack://demo/../../../packages/components/tree/src/model/util.ts","webpack://demo/../../../packages/components/tree/src/model/node.ts","webpack://demo/../../../packages/components/tree/src/model/tree-store.ts","webpack://demo/../../../packages/components/tree/src/tree-node-content.vue","webpack://demo/../../../packages/components/tree/src/model/useNodeExpandEventBroadcast.ts","webpack://demo/../../../packages/components/tree/src/model/useDragNode.ts","webpack://demo/../../../packages/components/tree/src/tree-node.vue","webpack://demo/../../../packages/components/tree/src/model/useKeydown.ts","webpack://demo/../../../packages/components/tree/src/tree.vue","webpack://demo/../../../packages/components/tree/index.ts","webpack://demo/./src/views/AuthorityView.vue?3d06","webpack://demo/./src/type/authority.ts","webpack://demo/./src/views/AuthorityView.vue","webpack://demo/./src/views/AuthorityView.vue?f5c9","webpack://demo/../../../packages/components/badge/src/badge.ts","webpack://demo/../../../packages/components/badge/src/badge.vue","webpack://demo/../../../packages/components/badge/index.ts","webpack://demo/../../../packages/components/message/src/message.ts","webpack://demo/../../../packages/components/message/src/instance.ts","webpack://demo/../../../packages/components/message/src/message.vue","webpack://demo/../../../packages/components/config-provider/src/config-provider-props.ts","webpack://demo/../../../packages/components/config-provider/src/config-provider.ts","webpack://demo/../../../packages/components/message/src/method.ts","webpack://demo/../../../packages/components/message/index.ts"],"sourcesContent":["import type { SetupContext } from 'vue'\nimport type Node from './node'\nimport type { RootTreeType, TreeKey, TreeNodeData } from '../tree.type'\n\nexport const NODE_KEY = '$treeNodeId'\n\nexport const markNodeData = function (node: Node, data: TreeNodeData): void {\n  if (!data || data[NODE_KEY]) return\n  Object.defineProperty(data, NODE_KEY, {\n    value: node.id,\n    enumerable: false,\n    configurable: false,\n    writable: false,\n  })\n}\n\nexport const getNodeKey = function (key: TreeKey, data: TreeNodeData): any {\n  if (!key) return data[NODE_KEY]\n  return data[key]\n}\n\nexport const handleCurrentChange = (\n  store: RootTreeType['store'],\n  emit: SetupContext['emit'],\n  setCurrent: () => void\n) => {\n  const preCurrentNode = store.value.currentNode\n  setCurrent()\n  const currentNode = store.value.currentNode\n  if (preCurrentNode === currentNode) return\n\n  emit('current-change', currentNode ? currentNode.data : null, currentNode)\n}\n","// @ts-nocheck\nimport { reactive } from 'vue'\nimport { hasOwn } from '@element-plus/utils'\nimport { NODE_KEY, markNodeData } from './util'\nimport type TreeStore from './tree-store'\n\nimport type { Nullable } from '@element-plus/utils'\nimport type {\n  FakeNode,\n  TreeKey,\n  TreeNodeChildState,\n  TreeNodeData,\n  TreeNodeLoadedDefaultProps,\n  TreeNodeOptions,\n} from '../tree.type'\n\nexport const getChildState = (node: Node[]): TreeNodeChildState => {\n  let all = true\n  let none = true\n  let allWithoutDisable = true\n  for (let i = 0, j = node.length; i < j; i++) {\n    const n = node[i]\n    if (n.checked !== true || n.indeterminate) {\n      all = false\n      if (!n.disabled) {\n        allWithoutDisable = false\n      }\n    }\n    if (n.checked !== false || n.indeterminate) {\n      none = false\n    }\n  }\n\n  return { all, none, allWithoutDisable, half: !all && !none }\n}\n\nconst reInitChecked = function (node: Node): void {\n  if (node.childNodes.length === 0 || node.loading) return\n\n  const { all, none, half } = getChildState(node.childNodes)\n  if (all) {\n    node.checked = true\n    node.indeterminate = false\n  } else if (half) {\n    node.checked = false\n    node.indeterminate = true\n  } else if (none) {\n    node.checked = false\n    node.indeterminate = false\n  }\n\n  const parent = node.parent\n  if (!parent || parent.level === 0) return\n\n  if (!node.store.checkStrictly) {\n    reInitChecked(parent)\n  }\n}\n\nconst getPropertyFromData = function (node: Node, prop: string): any {\n  const props = node.store.props\n  const data = node.data || {}\n  const config = props[prop]\n\n  if (typeof config === 'function') {\n    return config(data, node)\n  } else if (typeof config === 'string') {\n    return data[config]\n  } else if (typeof config === 'undefined') {\n    const dataProp = data[prop]\n    return dataProp === undefined ? '' : dataProp\n  }\n}\n\nlet nodeIdSeed = 0\n\nclass Node {\n  id: number\n  text: string\n  checked: boolean\n  indeterminate: boolean\n  data: TreeNodeData\n  expanded: boolean\n  parent: Node\n  visible: boolean\n  isCurrent: boolean\n  store: TreeStore\n  isLeafByUser: boolean\n  isLeaf: boolean\n  canFocus: boolean\n\n  level: number\n  loaded: boolean\n  childNodes: Node[]\n  loading: boolean\n\n  constructor(options: TreeNodeOptions) {\n    this.id = nodeIdSeed++\n    this.text = null\n    this.checked = false\n    this.indeterminate = false\n    this.data = null\n    this.expanded = false\n    this.parent = null\n    this.visible = true\n    this.isCurrent = false\n    this.canFocus = false\n\n    for (const name in options) {\n      if (hasOwn(options, name)) {\n        this[name] = options[name]\n      }\n    }\n\n    // internal\n    this.level = 0\n    this.loaded = false\n    this.childNodes = []\n    this.loading = false\n\n    if (this.parent) {\n      this.level = this.parent.level + 1\n    }\n  }\n\n  initialize() {\n    const store = this.store\n    if (!store) {\n      throw new Error('[Node]store is required!')\n    }\n    store.registerNode(this)\n\n    const props = store.props\n    if (props && typeof props.isLeaf !== 'undefined') {\n      const isLeaf = getPropertyFromData(this, 'isLeaf')\n      if (typeof isLeaf === 'boolean') {\n        this.isLeafByUser = isLeaf\n      }\n    }\n\n    if (store.lazy !== true && this.data) {\n      this.setData(this.data)\n\n      if (store.defaultExpandAll) {\n        this.expanded = true\n        this.canFocus = true\n      }\n    } else if (this.level > 0 && store.lazy && store.defaultExpandAll) {\n      this.expand()\n    }\n    if (!Array.isArray(this.data)) {\n      markNodeData(this, this.data)\n    }\n    if (!this.data) return\n\n    const defaultExpandedKeys = store.defaultExpandedKeys\n    const key = store.key\n\n    if (key && defaultExpandedKeys && defaultExpandedKeys.includes(this.key)) {\n      this.expand(null, store.autoExpandParent)\n    }\n\n    if (\n      key &&\n      store.currentNodeKey !== undefined &&\n      this.key === store.currentNodeKey\n    ) {\n      store.currentNode = this\n      store.currentNode.isCurrent = true\n    }\n\n    if (store.lazy) {\n      store._initDefaultCheckedNode(this)\n    }\n\n    this.updateLeafState()\n    if (this.parent && (this.level === 1 || this.parent.expanded === true))\n      this.canFocus = true\n  }\n\n  setData(data: TreeNodeData): void {\n    if (!Array.isArray(data)) {\n      markNodeData(this, data)\n    }\n\n    this.data = data\n    this.childNodes = []\n\n    let children\n    if (this.level === 0 && Array.isArray(this.data)) {\n      children = this.data\n    } else {\n      children = getPropertyFromData(this, 'children') || []\n    }\n\n    for (let i = 0, j = children.length; i < j; i++) {\n      this.insertChild({ data: children[i] })\n    }\n  }\n\n  get label(): string {\n    return getPropertyFromData(this, 'label')\n  }\n\n  get key(): TreeKey {\n    const nodeKey = this.store.key\n    if (this.data) return this.data[nodeKey]\n    return null\n  }\n\n  get disabled(): boolean {\n    return getPropertyFromData(this, 'disabled')\n  }\n\n  get nextSibling(): Nullable<Node> {\n    const parent = this.parent\n    if (parent) {\n      const index = parent.childNodes.indexOf(this)\n      if (index > -1) {\n        return parent.childNodes[index + 1]\n      }\n    }\n    return null\n  }\n\n  get previousSibling(): Nullable<Node> {\n    const parent = this.parent\n    if (parent) {\n      const index = parent.childNodes.indexOf(this)\n      if (index > -1) {\n        return index > 0 ? parent.childNodes[index - 1] : null\n      }\n    }\n    return null\n  }\n\n  contains(target: Node, deep = true): boolean {\n    return (this.childNodes || []).some(\n      (child) => child === target || (deep && child.contains(target))\n    )\n  }\n\n  remove(): void {\n    const parent = this.parent\n    if (parent) {\n      parent.removeChild(this)\n    }\n  }\n\n  insertChild(child?: FakeNode | Node, index?: number, batch?: boolean): void {\n    if (!child) throw new Error('InsertChild error: child is required.')\n\n    if (!(child instanceof Node)) {\n      if (!batch) {\n        const children = this.getChildren(true)\n        if (!children.includes(child.data)) {\n          if (typeof index === 'undefined' || index < 0) {\n            children.push(child.data)\n          } else {\n            children.splice(index, 0, child.data)\n          }\n        }\n      }\n      Object.assign(child, {\n        parent: this,\n        store: this.store,\n      })\n      child = reactive(new Node(child as TreeNodeOptions))\n      if (child instanceof Node) {\n        child.initialize()\n      }\n    }\n\n    ;(child as Node).level = this.level + 1\n\n    if (typeof index === 'undefined' || index < 0) {\n      this.childNodes.push(child as Node)\n    } else {\n      this.childNodes.splice(index, 0, child as Node)\n    }\n\n    this.updateLeafState()\n  }\n\n  insertBefore(child: FakeNode | Node, ref: Node): void {\n    let index\n    if (ref) {\n      index = this.childNodes.indexOf(ref)\n    }\n    this.insertChild(child, index)\n  }\n\n  insertAfter(child: FakeNode | Node, ref: Node): void {\n    let index\n    if (ref) {\n      index = this.childNodes.indexOf(ref)\n      if (index !== -1) index += 1\n    }\n    this.insertChild(child, index)\n  }\n\n  removeChild(child: Node): void {\n    const children = this.getChildren() || []\n    const dataIndex = children.indexOf(child.data)\n    if (dataIndex > -1) {\n      children.splice(dataIndex, 1)\n    }\n\n    const index = this.childNodes.indexOf(child)\n\n    if (index > -1) {\n      this.store && this.store.deregisterNode(child)\n      child.parent = null\n      this.childNodes.splice(index, 1)\n    }\n\n    this.updateLeafState()\n  }\n\n  removeChildByData(data: TreeNodeData): void {\n    let targetNode: Node = null\n\n    for (let i = 0; i < this.childNodes.length; i++) {\n      if (this.childNodes[i].data === data) {\n        targetNode = this.childNodes[i]\n        break\n      }\n    }\n\n    if (targetNode) {\n      this.removeChild(targetNode)\n    }\n  }\n\n  expand(callback?: () => void, expandParent?: boolean): void {\n    const done = (): void => {\n      if (expandParent) {\n        let parent = this.parent\n        while (parent.level > 0) {\n          parent.expanded = true\n          parent = parent.parent\n        }\n      }\n      this.expanded = true\n      if (callback) callback()\n      this.childNodes.forEach((item) => {\n        item.canFocus = true\n      })\n    }\n\n    if (this.shouldLoadData()) {\n      this.loadData((data) => {\n        if (Array.isArray(data)) {\n          if (this.checked) {\n            this.setChecked(true, true)\n          } else if (!this.store.checkStrictly) {\n            reInitChecked(this)\n          }\n          done()\n        }\n      })\n    } else {\n      done()\n    }\n  }\n\n  doCreateChildren(\n    array: TreeNodeData[],\n    defaultProps: TreeNodeLoadedDefaultProps = {}\n  ): void {\n    array.forEach((item) => {\n      this.insertChild(\n        Object.assign({ data: item }, defaultProps),\n        undefined,\n        true\n      )\n    })\n  }\n\n  collapse(): void {\n    this.expanded = false\n    this.childNodes.forEach((item) => {\n      item.canFocus = false\n    })\n  }\n\n  shouldLoadData(): boolean {\n    return this.store.lazy === true && this.store.load && !this.loaded\n  }\n\n  updateLeafState(): void {\n    if (\n      this.store.lazy === true &&\n      this.loaded !== true &&\n      typeof this.isLeafByUser !== 'undefined'\n    ) {\n      this.isLeaf = this.isLeafByUser\n      return\n    }\n    const childNodes = this.childNodes\n    if (\n      !this.store.lazy ||\n      (this.store.lazy === true && this.loaded === true)\n    ) {\n      this.isLeaf = !childNodes || childNodes.length === 0\n      return\n    }\n    this.isLeaf = false\n  }\n\n  setChecked(\n    value?: boolean | string,\n    deep?: boolean,\n    recursion?: boolean,\n    passValue?: boolean\n  ) {\n    this.indeterminate = value === 'half'\n    this.checked = value === true\n\n    if (this.store.checkStrictly) return\n\n    if (!(this.shouldLoadData() && !this.store.checkDescendants)) {\n      const { all, allWithoutDisable } = getChildState(this.childNodes)\n\n      if (!this.isLeaf && !all && allWithoutDisable) {\n        this.checked = false\n        value = false\n      }\n\n      const handleDescendants = (): void => {\n        if (deep) {\n          const childNodes = this.childNodes\n          for (let i = 0, j = childNodes.length; i < j; i++) {\n            const child = childNodes[i]\n            passValue = passValue || value !== false\n            const isCheck = child.disabled ? child.checked : passValue\n            child.setChecked(isCheck, deep, true, passValue)\n          }\n          const { half, all } = getChildState(childNodes)\n          if (!all) {\n            this.checked = all\n            this.indeterminate = half\n          }\n        }\n      }\n\n      if (this.shouldLoadData()) {\n        // Only work on lazy load data.\n        this.loadData(\n          () => {\n            handleDescendants()\n            reInitChecked(this)\n          },\n          {\n            checked: value !== false,\n          }\n        )\n        return\n      } else {\n        handleDescendants()\n      }\n    }\n\n    const parent = this.parent\n    if (!parent || parent.level === 0) return\n\n    if (!recursion) {\n      reInitChecked(parent)\n    }\n  }\n\n  getChildren(forceInit = false): TreeNodeData | TreeNodeData[] {\n    // this is data\n    if (this.level === 0) return this.data\n    const data = this.data\n    if (!data) return null\n\n    const props = this.store.props\n    let children = 'children'\n    if (props) {\n      children = props.children || 'children'\n    }\n\n    if (data[children] === undefined) {\n      data[children] = null\n    }\n\n    if (forceInit && !data[children]) {\n      data[children] = []\n    }\n\n    return data[children]\n  }\n\n  updateChildren(): void {\n    const newData = (this.getChildren() || []) as TreeNodeData[]\n    const oldData = this.childNodes.map((node) => node.data)\n\n    const newDataMap = {}\n    const newNodes = []\n\n    newData.forEach((item, index) => {\n      const key = item[NODE_KEY]\n      const isNodeExists =\n        !!key && oldData.findIndex((data) => data[NODE_KEY] === key) >= 0\n      if (isNodeExists) {\n        newDataMap[key] = { index, data: item }\n      } else {\n        newNodes.push({ index, data: item })\n      }\n    })\n\n    if (!this.store.lazy) {\n      oldData.forEach((item) => {\n        if (!newDataMap[item[NODE_KEY]]) this.removeChildByData(item)\n      })\n    }\n\n    newNodes.forEach(({ index, data }) => {\n      this.insertChild({ data }, index)\n    })\n\n    this.updateLeafState()\n  }\n\n  loadData(\n    callback: (node: Node) => void,\n    defaultProps: TreeNodeLoadedDefaultProps = {}\n  ) {\n    if (\n      this.store.lazy === true &&\n      this.store.load &&\n      !this.loaded &&\n      (!this.loading || Object.keys(defaultProps).length)\n    ) {\n      this.loading = true\n\n      const resolve = (children) => {\n        this.childNodes = []\n\n        this.doCreateChildren(children, defaultProps)\n        this.loaded = true\n        this.loading = false\n\n        this.updateLeafState()\n        if (callback) {\n          callback.call(this, children)\n        }\n      }\n\n      this.store.load(this, resolve)\n    } else {\n      if (callback) {\n        callback.call(this)\n      }\n    }\n  }\n}\n\nexport default Node\n","// @ts-nocheck\nimport { hasOwn, isObject } from '@element-plus/utils'\nimport Node from './node'\nimport { getNodeKey } from './util'\n\nimport type {\n  FilterNodeMethodFunction,\n  FilterValue,\n  LoadFunction,\n  TreeData,\n  TreeKey,\n  TreeNodeData,\n  TreeOptionProps,\n  TreeStoreNodesMap,\n  TreeStoreOptions,\n} from '../tree.type'\n\nexport default class TreeStore {\n  currentNode: Node\n  currentNodeKey: TreeKey\n  nodesMap: TreeStoreNodesMap\n  root: Node\n  data: TreeData\n  lazy: boolean\n  load: LoadFunction\n  filterNodeMethod: FilterNodeMethodFunction\n  key: TreeKey\n  defaultCheckedKeys: TreeKey[]\n  checkStrictly: boolean\n  defaultExpandedKeys: TreeKey[]\n  autoExpandParent: boolean\n  defaultExpandAll: boolean\n  checkDescendants: boolean\n  props: TreeOptionProps\n\n  constructor(options: TreeStoreOptions) {\n    this.currentNode = null\n    this.currentNodeKey = null\n\n    for (const option in options) {\n      if (hasOwn(options, option)) {\n        this[option] = options[option]\n      }\n    }\n\n    this.nodesMap = {}\n  }\n\n  initialize() {\n    this.root = new Node({\n      data: this.data,\n      store: this,\n    })\n    this.root.initialize()\n\n    if (this.lazy && this.load) {\n      const loadFn = this.load\n      loadFn(this.root, (data) => {\n        this.root.doCreateChildren(data)\n        this._initDefaultCheckedNodes()\n      })\n    } else {\n      this._initDefaultCheckedNodes()\n    }\n  }\n\n  filter(value: FilterValue): void {\n    const filterNodeMethod = this.filterNodeMethod\n    const lazy = this.lazy\n    const traverse = function (node: TreeStore | Node) {\n      const childNodes = (node as TreeStore).root\n        ? (node as TreeStore).root.childNodes\n        : (node as Node).childNodes\n\n      childNodes.forEach((child) => {\n        child.visible = filterNodeMethod.call(child, value, child.data, child)\n\n        traverse(child)\n      })\n\n      if (!(node as Node).visible && childNodes.length) {\n        let allHidden = true\n        allHidden = !childNodes.some((child) => child.visible)\n\n        if ((node as TreeStore).root) {\n          ;(node as TreeStore).root.visible = allHidden === false\n        } else {\n          ;(node as Node).visible = allHidden === false\n        }\n      }\n      if (!value) return\n\n      if ((node as Node).visible && !(node as Node).isLeaf && !lazy)\n        (node as Node).expand()\n    }\n\n    traverse(this)\n  }\n\n  setData(newVal: TreeData): void {\n    const instanceChanged = newVal !== this.root.data\n    if (instanceChanged) {\n      this.root.setData(newVal)\n      this._initDefaultCheckedNodes()\n    } else {\n      this.root.updateChildren()\n    }\n  }\n\n  getNode(data: TreeKey | TreeNodeData | Node): Node {\n    if (data instanceof Node) return data\n    const key = isObject(data) ? getNodeKey(this.key, data) : data\n    return this.nodesMap[key] || null\n  }\n\n  insertBefore(\n    data: TreeNodeData,\n    refData: TreeKey | TreeNodeData | Node\n  ): void {\n    const refNode = this.getNode(refData)\n    refNode.parent.insertBefore({ data }, refNode)\n  }\n\n  insertAfter(\n    data: TreeNodeData,\n    refData: TreeKey | TreeNodeData | Node\n  ): void {\n    const refNode = this.getNode(refData)\n    refNode.parent.insertAfter({ data }, refNode)\n  }\n\n  remove(data: TreeNodeData | Node): void {\n    const node = this.getNode(data)\n\n    if (node && node.parent) {\n      if (node === this.currentNode) {\n        this.currentNode = null\n      }\n      node.parent.removeChild(node)\n    }\n  }\n\n  append(data: TreeNodeData, parentData: TreeNodeData | TreeKey | Node): void {\n    const parentNode = parentData ? this.getNode(parentData) : this.root\n\n    if (parentNode) {\n      parentNode.insertChild({ data })\n    }\n  }\n\n  _initDefaultCheckedNodes(): void {\n    const defaultCheckedKeys = this.defaultCheckedKeys || []\n    const nodesMap = this.nodesMap\n\n    defaultCheckedKeys.forEach((checkedKey) => {\n      const node = nodesMap[checkedKey]\n\n      if (node) {\n        node.setChecked(true, !this.checkStrictly)\n      }\n    })\n  }\n\n  _initDefaultCheckedNode(node: Node): void {\n    const defaultCheckedKeys = this.defaultCheckedKeys || []\n\n    if (defaultCheckedKeys.includes(node.key)) {\n      node.setChecked(true, !this.checkStrictly)\n    }\n  }\n\n  setDefaultCheckedKey(newVal: TreeKey[]): void {\n    if (newVal !== this.defaultCheckedKeys) {\n      this.defaultCheckedKeys = newVal\n      this._initDefaultCheckedNodes()\n    }\n  }\n\n  registerNode(node: Node): void {\n    const key = this.key\n    if (!node || !node.data) return\n\n    if (!key) {\n      this.nodesMap[node.id] = node\n    } else {\n      const nodeKey = node.key\n      if (nodeKey !== undefined) this.nodesMap[node.key] = node\n    }\n  }\n\n  deregisterNode(node: Node): void {\n    const key = this.key\n    if (!key || !node || !node.data) return\n\n    node.childNodes.forEach((child) => {\n      this.deregisterNode(child)\n    })\n\n    delete this.nodesMap[node.key]\n  }\n\n  getCheckedNodes(\n    leafOnly = false,\n    includeHalfChecked = false\n  ): TreeNodeData[] {\n    const checkedNodes: TreeNodeData[] = []\n    const traverse = function (node: TreeStore | Node) {\n      const childNodes = (node as TreeStore).root\n        ? (node as TreeStore).root.childNodes\n        : (node as Node).childNodes\n\n      childNodes.forEach((child) => {\n        if (\n          (child.checked || (includeHalfChecked && child.indeterminate)) &&\n          (!leafOnly || (leafOnly && child.isLeaf))\n        ) {\n          checkedNodes.push(child.data)\n        }\n\n        traverse(child)\n      })\n    }\n\n    traverse(this)\n\n    return checkedNodes\n  }\n\n  getCheckedKeys(leafOnly = false): TreeKey[] {\n    return this.getCheckedNodes(leafOnly).map((data) => (data || {})[this.key])\n  }\n\n  getHalfCheckedNodes(): TreeNodeData[] {\n    const nodes: TreeNodeData[] = []\n    const traverse = function (node: TreeStore | Node) {\n      const childNodes = (node as TreeStore).root\n        ? (node as TreeStore).root.childNodes\n        : (node as Node).childNodes\n\n      childNodes.forEach((child) => {\n        if (child.indeterminate) {\n          nodes.push(child.data)\n        }\n\n        traverse(child)\n      })\n    }\n\n    traverse(this)\n\n    return nodes\n  }\n\n  getHalfCheckedKeys(): TreeKey[] {\n    return this.getHalfCheckedNodes().map((data) => (data || {})[this.key])\n  }\n\n  _getAllNodes(): Node[] {\n    const allNodes: Node[] = []\n    const nodesMap = this.nodesMap\n    for (const nodeKey in nodesMap) {\n      if (hasOwn(nodesMap, nodeKey)) {\n        allNodes.push(nodesMap[nodeKey])\n      }\n    }\n\n    return allNodes\n  }\n\n  updateChildren(key: TreeKey, data: TreeData): void {\n    const node = this.nodesMap[key]\n    if (!node) return\n    const childNodes = node.childNodes\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      const child = childNodes[i]\n      this.remove(child.data)\n    }\n    for (let i = 0, j = data.length; i < j; i++) {\n      const child = data[i]\n      this.append(child, node.data)\n    }\n  }\n\n  _setCheckedKeys(\n    key: TreeKey,\n    leafOnly = false,\n    checkedKeys: { [key: string]: boolean }\n  ): void {\n    const allNodes = this._getAllNodes().sort((a, b) => b.level - a.level)\n    const cache = Object.create(null)\n    const keys = Object.keys(checkedKeys)\n    allNodes.forEach((node) => node.setChecked(false, false))\n    for (let i = 0, j = allNodes.length; i < j; i++) {\n      const node = allNodes[i]\n      const nodeKey = node.data[key].toString()\n      const checked = keys.includes(nodeKey)\n      if (!checked) {\n        if (node.checked && !cache[nodeKey]) {\n          node.setChecked(false, false)\n        }\n        continue\n      }\n\n      let parent = node.parent\n      while (parent && parent.level > 0) {\n        cache[parent.data[key]] = true\n        parent = parent.parent\n      }\n\n      if (node.isLeaf || this.checkStrictly) {\n        node.setChecked(true, false)\n        continue\n      }\n      node.setChecked(true, true)\n\n      if (leafOnly) {\n        node.setChecked(false, false)\n        const traverse = function (node: Node): void {\n          const childNodes = node.childNodes\n          childNodes.forEach((child) => {\n            if (!child.isLeaf) {\n              child.setChecked(false, false)\n            }\n            traverse(child)\n          })\n        }\n        traverse(node)\n      }\n    }\n  }\n\n  setCheckedNodes(array: Node[], leafOnly = false): void {\n    const key = this.key\n    const checkedKeys = {}\n    array.forEach((item) => {\n      checkedKeys[(item || {})[key]] = true\n    })\n\n    this._setCheckedKeys(key, leafOnly, checkedKeys)\n  }\n\n  setCheckedKeys(keys: TreeKey[], leafOnly = false): void {\n    this.defaultCheckedKeys = keys\n    const key = this.key\n    const checkedKeys = {}\n    keys.forEach((key) => {\n      checkedKeys[key] = true\n    })\n\n    this._setCheckedKeys(key, leafOnly, checkedKeys)\n  }\n\n  setDefaultExpandedKeys(keys: TreeKey[]) {\n    keys = keys || []\n    this.defaultExpandedKeys = keys\n    keys.forEach((key) => {\n      const node = this.getNode(key)\n      if (node) node.expand(null, this.autoExpandParent)\n    })\n  }\n\n  setChecked(\n    data: TreeKey | TreeNodeData,\n    checked: boolean,\n    deep: boolean\n  ): void {\n    const node = this.getNode(data)\n\n    if (node) {\n      node.setChecked(!!checked, deep)\n    }\n  }\n\n  getCurrentNode(): Node {\n    return this.currentNode\n  }\n\n  setCurrentNode(currentNode: Node): void {\n    const prevCurrentNode = this.currentNode\n    if (prevCurrentNode) {\n      prevCurrentNode.isCurrent = false\n    }\n    this.currentNode = currentNode\n    this.currentNode.isCurrent = true\n  }\n\n  setUserCurrentNode(node: Node, shouldAutoExpandParent = true): void {\n    const key = node[this.key]\n    const currNode = this.nodesMap[key]\n    this.setCurrentNode(currNode)\n    if (shouldAutoExpandParent && this.currentNode.level > 1) {\n      this.currentNode.parent.expand(null, true)\n    }\n  }\n\n  setCurrentNodeKey(key?: TreeKey, shouldAutoExpandParent = true): void {\n    if (key === null || key === undefined) {\n      this.currentNode && (this.currentNode.isCurrent = false)\n      this.currentNode = null\n      return\n    }\n    const node = this.getNode(key)\n    if (node) {\n      this.setCurrentNode(node)\n      if (shouldAutoExpandParent && this.currentNode.level > 1) {\n        this.currentNode.parent.expand(null, true)\n      }\n    }\n  }\n}\n","<script lang=\"ts\">\n// @ts-nocheck\nimport { defineComponent, h, inject } from 'vue'\n\nimport { useNamespace } from '@element-plus/hooks'\nimport type { ComponentInternalInstance } from 'vue'\nimport type { RootTreeType } from './tree.type'\n\nexport default defineComponent({\n  name: 'ElTreeNodeContent',\n  props: {\n    node: {\n      type: Object,\n      required: true,\n    },\n    renderContent: Function,\n  },\n  setup(props) {\n    const ns = useNamespace('tree')\n    const nodeInstance = inject<ComponentInternalInstance>('NodeInstance')\n    const tree = inject<RootTreeType>('RootTree')\n    return () => {\n      const node = props.node\n      const { data, store } = node\n      return props.renderContent\n        ? props.renderContent(h, { _self: nodeInstance, node, data, store })\n        : tree.ctx.slots.default\n        ? tree.ctx.slots.default({ node, data })\n        : h('span', { class: ns.be('node', 'label') }, [node.label])\n    }\n  },\n})\n</script>\n","// @ts-nocheck\nimport { inject, provide } from 'vue'\nimport type Node from '../model/node'\n\ninterface NodeMap {\n  treeNodeExpand(node: Node): void\n  children: NodeMap[]\n}\n\nexport function useNodeExpandEventBroadcast(props) {\n  const parentNodeMap = inject<NodeMap>('TreeNodeMap', null)\n  const currentNodeMap: NodeMap = {\n    treeNodeExpand: (node) => {\n      if (props.node !== node) {\n        props.node.collapse()\n      }\n    },\n    children: [],\n  }\n\n  if (parentNodeMap) {\n    parentNodeMap.children.push(currentNodeMap)\n  }\n\n  provide('TreeNodeMap', currentNodeMap)\n\n  return {\n    broadcastExpanded: (node: Node): void => {\n      if (!props.accordion) return\n      for (const childNode of currentNodeMap.children) {\n        childNode.treeNodeExpand(node)\n      }\n    },\n  }\n}\n","// @ts-nocheck\nimport { provide, ref } from 'vue'\nimport { addClass, removeClass } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport type { InjectionKey } from 'vue'\nimport type Node from './node'\nimport type { NodeDropType } from '../tree.type'\n\ninterface TreeNode {\n  node: Node\n  $el?: HTMLElement\n}\n\ninterface DragOptions {\n  event: DragEvent\n  treeNode: TreeNode\n}\n\nexport interface DragEvents {\n  treeNodeDragStart: (options: DragOptions) => void\n  treeNodeDragOver: (options: DragOptions) => void\n  treeNodeDragEnd: (event: DragEvent) => void\n}\n\nexport const dragEventsKey: InjectionKey<DragEvents> = Symbol('dragEvents')\n\nexport function useDragNodeHandler({ props, ctx, el$, dropIndicator$, store }) {\n  const ns = useNamespace('tree')\n  const dragState = ref({\n    showDropIndicator: false,\n    draggingNode: null,\n    dropNode: null,\n    allowDrop: true,\n    dropType: null,\n  })\n\n  const treeNodeDragStart = ({ event, treeNode }: DragOptions) => {\n    if (\n      typeof props.allowDrag === 'function' &&\n      !props.allowDrag(treeNode.node)\n    ) {\n      event.preventDefault()\n      return false\n    }\n    event.dataTransfer.effectAllowed = 'move'\n\n    // wrap in try catch to address IE's error when first param is 'text/plain'\n    try {\n      // setData is required for draggable to work in FireFox\n      // the content has to be '' so dragging a node out of the tree won't open a new tab in FireFox\n      event.dataTransfer.setData('text/plain', '')\n    } catch {}\n    dragState.value.draggingNode = treeNode\n    ctx.emit('node-drag-start', treeNode.node, event)\n  }\n\n  const treeNodeDragOver = ({ event, treeNode }: DragOptions) => {\n    const dropNode = treeNode\n    const oldDropNode = dragState.value.dropNode\n    if (oldDropNode && oldDropNode !== dropNode) {\n      removeClass(oldDropNode.$el, ns.is('drop-inner'))\n    }\n    const draggingNode = dragState.value.draggingNode\n    if (!draggingNode || !dropNode) return\n\n    let dropPrev = true\n    let dropInner = true\n    let dropNext = true\n    let userAllowDropInner = true\n    if (typeof props.allowDrop === 'function') {\n      dropPrev = props.allowDrop(draggingNode.node, dropNode.node, 'prev')\n      userAllowDropInner = dropInner = props.allowDrop(\n        draggingNode.node,\n        dropNode.node,\n        'inner'\n      )\n      dropNext = props.allowDrop(draggingNode.node, dropNode.node, 'next')\n    }\n    event.dataTransfer.dropEffect =\n      dropInner || dropPrev || dropNext ? 'move' : 'none'\n    if ((dropPrev || dropInner || dropNext) && oldDropNode !== dropNode) {\n      if (oldDropNode) {\n        ctx.emit('node-drag-leave', draggingNode.node, oldDropNode.node, event)\n      }\n      ctx.emit('node-drag-enter', draggingNode.node, dropNode.node, event)\n    }\n\n    if (dropPrev || dropInner || dropNext) {\n      dragState.value.dropNode = dropNode\n    }\n\n    if (dropNode.node.nextSibling === draggingNode.node) {\n      dropNext = false\n    }\n    if (dropNode.node.previousSibling === draggingNode.node) {\n      dropPrev = false\n    }\n    if (dropNode.node.contains(draggingNode.node, false)) {\n      dropInner = false\n    }\n    if (\n      draggingNode.node === dropNode.node ||\n      draggingNode.node.contains(dropNode.node)\n    ) {\n      dropPrev = false\n      dropInner = false\n      dropNext = false\n    }\n\n    const targetPosition = dropNode.$el.getBoundingClientRect()\n    const treePosition = el$.value.getBoundingClientRect()\n\n    let dropType: NodeDropType\n    const prevPercent = dropPrev ? (dropInner ? 0.25 : dropNext ? 0.45 : 1) : -1\n    const nextPercent = dropNext ? (dropInner ? 0.75 : dropPrev ? 0.55 : 0) : 1\n\n    let indicatorTop = -9999\n    const distance = event.clientY - targetPosition.top\n    if (distance < targetPosition.height * prevPercent) {\n      dropType = 'before'\n    } else if (distance > targetPosition.height * nextPercent) {\n      dropType = 'after'\n    } else if (dropInner) {\n      dropType = 'inner'\n    } else {\n      dropType = 'none'\n    }\n\n    const iconPosition = dropNode.$el\n      .querySelector(`.${ns.be('node', 'expand-icon')}`)\n      .getBoundingClientRect()\n    const dropIndicator = dropIndicator$.value\n    if (dropType === 'before') {\n      indicatorTop = iconPosition.top - treePosition.top\n    } else if (dropType === 'after') {\n      indicatorTop = iconPosition.bottom - treePosition.top\n    }\n    dropIndicator.style.top = `${indicatorTop}px`\n    dropIndicator.style.left = `${iconPosition.right - treePosition.left}px`\n\n    if (dropType === 'inner') {\n      addClass(dropNode.$el, ns.is('drop-inner'))\n    } else {\n      removeClass(dropNode.$el, ns.is('drop-inner'))\n    }\n\n    dragState.value.showDropIndicator =\n      dropType === 'before' || dropType === 'after'\n    dragState.value.allowDrop =\n      dragState.value.showDropIndicator || userAllowDropInner\n    dragState.value.dropType = dropType\n    ctx.emit('node-drag-over', draggingNode.node, dropNode.node, event)\n  }\n\n  const treeNodeDragEnd = (event: DragEvent) => {\n    const { draggingNode, dropType, dropNode } = dragState.value\n    event.preventDefault()\n    event.dataTransfer.dropEffect = 'move'\n\n    if (draggingNode && dropNode) {\n      const draggingNodeCopy = { data: draggingNode.node.data }\n      if (dropType !== 'none') {\n        draggingNode.node.remove()\n      }\n      if (dropType === 'before') {\n        dropNode.node.parent.insertBefore(draggingNodeCopy, dropNode.node)\n      } else if (dropType === 'after') {\n        dropNode.node.parent.insertAfter(draggingNodeCopy, dropNode.node)\n      } else if (dropType === 'inner') {\n        dropNode.node.insertChild(draggingNodeCopy)\n      }\n      if (dropType !== 'none') {\n        store.value.registerNode(draggingNodeCopy)\n      }\n\n      removeClass(dropNode.$el, ns.is('drop-inner'))\n\n      ctx.emit(\n        'node-drag-end',\n        draggingNode.node,\n        dropNode.node,\n        dropType,\n        event\n      )\n      if (dropType !== 'none') {\n        ctx.emit('node-drop', draggingNode.node, dropNode.node, dropType, event)\n      }\n    }\n    if (draggingNode && !dropNode) {\n      ctx.emit('node-drag-end', draggingNode.node, null, dropType, event)\n    }\n\n    dragState.value.showDropIndicator = false\n    dragState.value.draggingNode = null\n    dragState.value.dropNode = null\n    dragState.value.allowDrop = true\n  }\n\n  provide(dragEventsKey, {\n    treeNodeDragStart,\n    treeNodeDragOver,\n    treeNodeDragEnd,\n  })\n\n  return {\n    dragState,\n  }\n}\n","<template>\n  <div\n    v-show=\"node.visible\"\n    ref=\"node$\"\n    :class=\"[\n      ns.b('node'),\n      ns.is('expanded', expanded),\n      ns.is('current', node.isCurrent),\n      ns.is('hidden', !node.visible),\n      ns.is('focusable', !node.disabled),\n      ns.is('checked', !node.disabled && node.checked),\n      getNodeClass(node),\n    ]\"\n    role=\"treeitem\"\n    tabindex=\"-1\"\n    :aria-expanded=\"expanded\"\n    :aria-disabled=\"node.disabled\"\n    :aria-checked=\"node.checked\"\n    :draggable=\"tree.props.draggable\"\n    :data-key=\"getNodeKey(node)\"\n    @click.stop=\"handleClick\"\n    @contextmenu=\"handleContextMenu\"\n    @dragstart.stop=\"handleDragStart\"\n    @dragover.stop=\"handleDragOver\"\n    @dragend.stop=\"handleDragEnd\"\n    @drop.stop=\"handleDrop\"\n  >\n    <div\n      :class=\"ns.be('node', 'content')\"\n      :style=\"{ paddingLeft: (node.level - 1) * tree.props.indent + 'px' }\"\n    >\n      <el-icon\n        v-if=\"tree.props.icon || CaretRight\"\n        :class=\"[\n          ns.be('node', 'expand-icon'),\n          ns.is('leaf', node.isLeaf),\n          {\n            expanded: !node.isLeaf && expanded,\n          },\n        ]\"\n        @click.stop=\"handleExpandIconClick\"\n      >\n        <component :is=\"tree.props.icon || CaretRight\" />\n      </el-icon>\n      <el-checkbox\n        v-if=\"showCheckbox\"\n        :model-value=\"node.checked\"\n        :indeterminate=\"node.indeterminate\"\n        :disabled=\"!!node.disabled\"\n        @click.stop\n        @change=\"handleCheckChange\"\n      />\n      <el-icon\n        v-if=\"node.loading\"\n        :class=\"[ns.be('node', 'loading-icon'), ns.is('loading')]\"\n      >\n        <loading />\n      </el-icon>\n      <node-content :node=\"node\" :render-content=\"renderContent\" />\n    </div>\n    <el-collapse-transition>\n      <div\n        v-if=\"!renderAfterExpand || childNodeRendered\"\n        v-show=\"expanded\"\n        :class=\"ns.be('node', 'children')\"\n        role=\"group\"\n        :aria-expanded=\"expanded\"\n      >\n        <el-tree-node\n          v-for=\"child in node.childNodes\"\n          :key=\"getNodeKey(child)\"\n          :render-content=\"renderContent\"\n          :render-after-expand=\"renderAfterExpand\"\n          :show-checkbox=\"showCheckbox\"\n          :node=\"child\"\n          :accordion=\"accordion\"\n          :props=\"props\"\n          @node-expand=\"handleChildNodeExpand\"\n        />\n      </div>\n    </el-collapse-transition>\n  </div>\n</template>\n<script lang=\"ts\">\n// @ts-nocheck\nimport {\n  defineComponent,\n  getCurrentInstance,\n  inject,\n  nextTick,\n  provide,\n  ref,\n  watch,\n} from 'vue'\nimport { isFunction, isString } from '@vue/shared'\nimport ElCollapseTransition from '@element-plus/components/collapse-transition'\nimport ElCheckbox from '@element-plus/components/checkbox'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { CaretRight, Loading } from '@element-plus/icons-vue'\nimport { debugWarn } from '@element-plus/utils'\nimport { useNamespace } from '@element-plus/hooks'\nimport NodeContent from './tree-node-content.vue'\nimport { getNodeKey as getNodeKeyUtil, handleCurrentChange } from './model/util'\nimport { useNodeExpandEventBroadcast } from './model/useNodeExpandEventBroadcast'\nimport { dragEventsKey } from './model/useDragNode'\nimport Node from './model/node'\n\nimport type { ComponentInternalInstance, PropType } from 'vue'\nimport type { Nullable } from '@element-plus/utils'\nimport type { RootTreeType, TreeNodeData, TreeOptionProps } from './tree.type'\n\nexport default defineComponent({\n  name: 'ElTreeNode',\n  components: {\n    ElCollapseTransition,\n    ElCheckbox,\n    NodeContent,\n    ElIcon,\n    Loading,\n  },\n  props: {\n    node: {\n      type: Node,\n      default: () => ({}),\n    },\n    props: {\n      type: Object as PropType<TreeOptionProps>,\n      default: () => ({}),\n    },\n    accordion: Boolean,\n    renderContent: Function,\n    renderAfterExpand: Boolean,\n    showCheckbox: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  emits: ['node-expand'],\n  setup(props, ctx) {\n    const ns = useNamespace('tree')\n    const { broadcastExpanded } = useNodeExpandEventBroadcast(props)\n    const tree = inject<RootTreeType>('RootTree')\n    const expanded = ref(false)\n    const childNodeRendered = ref(false)\n    const oldChecked = ref<boolean>(null)\n    const oldIndeterminate = ref<boolean>(null)\n    const node$ = ref<Nullable<HTMLElement>>(null)\n    const dragEvents = inject(dragEventsKey)\n    const instance = getCurrentInstance()\n\n    provide('NodeInstance', instance)\n    if (!tree) {\n      debugWarn('Tree', \"Can not find node's tree.\")\n    }\n\n    if (props.node.expanded) {\n      expanded.value = true\n      childNodeRendered.value = true\n    }\n\n    const childrenKey = tree.props['children'] || 'children'\n    watch(\n      () => {\n        const children = props.node.data[childrenKey]\n        return children && [...children]\n      },\n      () => {\n        props.node.updateChildren()\n      }\n    )\n\n    watch(\n      () => props.node.indeterminate,\n      (val) => {\n        handleSelectChange(props.node.checked, val)\n      }\n    )\n\n    watch(\n      () => props.node.checked,\n      (val) => {\n        handleSelectChange(val, props.node.indeterminate)\n      }\n    )\n\n    watch(\n      () => props.node.expanded,\n      (val) => {\n        nextTick(() => (expanded.value = val))\n        if (val) {\n          childNodeRendered.value = true\n        }\n      }\n    )\n\n    const getNodeKey = (node: Node): any => {\n      return getNodeKeyUtil(tree.props.nodeKey, node.data)\n    }\n\n    const getNodeClass = (node: Node) => {\n      const nodeClassFunc = props.props.class\n      if (!nodeClassFunc) {\n        return {}\n      }\n      let className\n      if (isFunction(nodeClassFunc)) {\n        const { data } = node\n        className = nodeClassFunc(data, node)\n      } else {\n        className = nodeClassFunc\n      }\n\n      if (isString(className)) {\n        return { [className]: true }\n      } else {\n        return className\n      }\n    }\n\n    const handleSelectChange = (checked: boolean, indeterminate: boolean) => {\n      if (\n        oldChecked.value !== checked ||\n        oldIndeterminate.value !== indeterminate\n      ) {\n        tree.ctx.emit('check-change', props.node.data, checked, indeterminate)\n      }\n      oldChecked.value = checked\n      oldIndeterminate.value = indeterminate\n    }\n\n    const handleClick = (e: MouseEvent) => {\n      handleCurrentChange(tree.store, tree.ctx.emit, () =>\n        tree.store.value.setCurrentNode(props.node)\n      )\n      tree.currentNode.value = props.node\n\n      if (tree.props.expandOnClickNode) {\n        handleExpandIconClick()\n      }\n\n      if (tree.props.checkOnClickNode && !props.node.disabled) {\n        handleCheckChange(null, {\n          target: { checked: !props.node.checked },\n        })\n      }\n      tree.ctx.emit('node-click', props.node.data, props.node, instance, e)\n    }\n\n    const handleContextMenu = (event: Event) => {\n      if (tree.instance.vnode.props['onNodeContextmenu']) {\n        event.stopPropagation()\n        event.preventDefault()\n      }\n      tree.ctx.emit(\n        'node-contextmenu',\n        event,\n        props.node.data,\n        props.node,\n        instance\n      )\n    }\n\n    const handleExpandIconClick = () => {\n      if (props.node.isLeaf) return\n      if (expanded.value) {\n        tree.ctx.emit('node-collapse', props.node.data, props.node, instance)\n        props.node.collapse()\n      } else {\n        props.node.expand()\n        ctx.emit('node-expand', props.node.data, props.node, instance)\n      }\n    }\n\n    const handleCheckChange = (value, ev) => {\n      props.node.setChecked(ev.target.checked, !tree.props.checkStrictly)\n      nextTick(() => {\n        const store = tree.store.value\n        tree.ctx.emit('check', props.node.data, {\n          checkedNodes: store.getCheckedNodes(),\n          checkedKeys: store.getCheckedKeys(),\n          halfCheckedNodes: store.getHalfCheckedNodes(),\n          halfCheckedKeys: store.getHalfCheckedKeys(),\n        })\n      })\n    }\n\n    const handleChildNodeExpand = (\n      nodeData: TreeNodeData,\n      node: Node,\n      instance: ComponentInternalInstance\n    ) => {\n      broadcastExpanded(node)\n      tree.ctx.emit('node-expand', nodeData, node, instance)\n    }\n\n    const handleDragStart = (event: DragEvent) => {\n      if (!tree.props.draggable) return\n      dragEvents.treeNodeDragStart({ event, treeNode: props })\n    }\n\n    const handleDragOver = (event: DragEvent) => {\n      event.preventDefault()\n      if (!tree.props.draggable) return\n      dragEvents.treeNodeDragOver({\n        event,\n        treeNode: { $el: node$.value, node: props.node },\n      })\n    }\n\n    const handleDrop = (event: DragEvent) => {\n      event.preventDefault()\n    }\n\n    const handleDragEnd = (event: DragEvent) => {\n      if (!tree.props.draggable) return\n      dragEvents.treeNodeDragEnd(event)\n    }\n\n    return {\n      ns,\n      node$,\n      tree,\n      expanded,\n      childNodeRendered,\n      oldChecked,\n      oldIndeterminate,\n      getNodeKey,\n      getNodeClass,\n      handleSelectChange,\n      handleClick,\n      handleContextMenu,\n      handleExpandIconClick,\n      handleCheckChange,\n      handleChildNodeExpand,\n      handleDragStart,\n      handleDragOver,\n      handleDrop,\n      handleDragEnd,\n      CaretRight,\n    }\n  },\n})\n</script>\n","// @ts-nocheck\nimport { onMounted, onUpdated, shallowRef, watch } from 'vue'\nimport { useEventListener } from '@vueuse/core'\nimport { EVENT_CODE } from '@element-plus/constants'\nimport { useNamespace } from '@element-plus/hooks'\nimport type TreeStore from './tree-store'\n\nimport type { Ref } from 'vue'\nimport type { Nullable } from '@element-plus/utils'\n\ninterface UseKeydownOption {\n  el$: Ref<HTMLElement>\n}\nexport function useKeydown({ el$ }: UseKeydownOption, store: Ref<TreeStore>) {\n  const ns = useNamespace('tree')\n\n  const treeItems = shallowRef<Nullable<HTMLElement>[]>([])\n  const checkboxItems = shallowRef<Nullable<HTMLElement>[]>([])\n\n  onMounted(() => {\n    initTabIndex()\n  })\n\n  onUpdated(() => {\n    treeItems.value = Array.from(el$.value.querySelectorAll('[role=treeitem]'))\n    checkboxItems.value = Array.from(\n      el$.value.querySelectorAll('input[type=checkbox]')\n    )\n  })\n\n  watch(checkboxItems, (val) => {\n    val.forEach((checkbox) => {\n      checkbox.setAttribute('tabindex', '-1')\n    })\n  })\n\n  const handleKeydown = (ev: KeyboardEvent): void => {\n    const currentItem = ev.target as HTMLElement\n    if (!currentItem.className.includes(ns.b('node'))) return\n    const code = ev.code\n    treeItems.value = Array.from(\n      el$.value.querySelectorAll(`.${ns.is('focusable')}[role=treeitem]`)\n    )\n    const currentIndex = treeItems.value.indexOf(currentItem)\n    let nextIndex\n    if ([EVENT_CODE.up, EVENT_CODE.down].includes(code)) {\n      ev.preventDefault()\n      if (code === EVENT_CODE.up) {\n        nextIndex =\n          currentIndex === -1\n            ? 0\n            : currentIndex !== 0\n            ? currentIndex - 1\n            : treeItems.value.length - 1\n        const startIndex = nextIndex\n        while (true) {\n          if (\n            store.value.getNode(treeItems.value[nextIndex].dataset.key).canFocus\n          )\n            break\n          nextIndex--\n          if (nextIndex === startIndex) {\n            nextIndex = -1\n            break\n          }\n          if (nextIndex < 0) {\n            nextIndex = treeItems.value.length - 1\n          }\n        }\n      } else {\n        nextIndex =\n          currentIndex === -1\n            ? 0\n            : currentIndex < treeItems.value.length - 1\n            ? currentIndex + 1\n            : 0\n        const startIndex = nextIndex\n        while (true) {\n          if (\n            store.value.getNode(treeItems.value[nextIndex].dataset.key).canFocus\n          )\n            break\n          nextIndex++\n          if (nextIndex === startIndex) {\n            nextIndex = -1\n            break\n          }\n          if (nextIndex >= treeItems.value.length) {\n            nextIndex = 0\n          }\n        }\n      }\n      nextIndex !== -1 && treeItems.value[nextIndex].focus()\n    }\n    if ([EVENT_CODE.left, EVENT_CODE.right].includes(code)) {\n      ev.preventDefault()\n      currentItem.click()\n    }\n    const hasInput = currentItem.querySelector(\n      '[type=\"checkbox\"]'\n    ) as Nullable<HTMLInputElement>\n    if ([EVENT_CODE.enter, EVENT_CODE.space].includes(code) && hasInput) {\n      ev.preventDefault()\n      hasInput.click()\n    }\n  }\n\n  useEventListener(el$, 'keydown', handleKeydown)\n\n  const initTabIndex = (): void => {\n    treeItems.value = Array.from(\n      el$.value.querySelectorAll(`.${ns.is('focusable')}[role=treeitem]`)\n    )\n    checkboxItems.value = Array.from(\n      el$.value.querySelectorAll('input[type=checkbox]')\n    )\n    const checkedItem = el$.value.querySelectorAll(\n      `.${ns.is('checked')}[role=treeitem]`\n    )\n    if (checkedItem.length) {\n      checkedItem[0].setAttribute('tabindex', '0')\n      return\n    }\n    treeItems.value[0]?.setAttribute('tabindex', '0')\n  }\n}\n","<template>\n  <div\n    ref=\"el$\"\n    :class=\"[\n      ns.b(),\n      ns.is('dragging', !!dragState.draggingNode),\n      ns.is('drop-not-allow', !dragState.allowDrop),\n      ns.is('drop-inner', dragState.dropType === 'inner'),\n      { [ns.m('highlight-current')]: highlightCurrent },\n    ]\"\n    role=\"tree\"\n  >\n    <el-tree-node\n      v-for=\"child in root.childNodes\"\n      :key=\"getNodeKey(child)\"\n      :node=\"child\"\n      :props=\"props\"\n      :accordion=\"accordion\"\n      :render-after-expand=\"renderAfterExpand\"\n      :show-checkbox=\"showCheckbox\"\n      :render-content=\"renderContent\"\n      @node-expand=\"handleNodeExpand\"\n    />\n    <div v-if=\"isEmpty\" :class=\"ns.e('empty-block')\">\n      <slot name=\"empty\">\n        <span :class=\"ns.e('empty-text')\">\n          {{ emptyText ?? t('el.tree.emptyText') }}\n        </span>\n      </slot>\n    </div>\n    <div\n      v-show=\"dragState.showDropIndicator\"\n      ref=\"dropIndicator$\"\n      :class=\"ns.e('drop-indicator')\"\n    />\n  </div>\n</template>\n<script lang=\"ts\">\n// @ts-nocheck\nimport {\n  computed,\n  defineComponent,\n  getCurrentInstance,\n  provide,\n  ref,\n  watch,\n} from 'vue'\nimport { iconPropType } from '@element-plus/utils'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport { formItemContextKey } from '@element-plus/components/form'\nimport TreeStore from './model/tree-store'\nimport { getNodeKey as getNodeKeyUtil, handleCurrentChange } from './model/util'\nimport ElTreeNode from './tree-node.vue'\nimport { useNodeExpandEventBroadcast } from './model/useNodeExpandEventBroadcast'\nimport { useDragNodeHandler } from './model/useDragNode'\nimport { useKeydown } from './model/useKeydown'\nimport type Node from './model/node'\n\nimport type { ComponentInternalInstance, PropType } from 'vue'\nimport type { Nullable } from '@element-plus/utils'\nimport type {\n  TreeComponentProps,\n  TreeData,\n  TreeKey,\n  TreeNodeData,\n} from './tree.type'\n\nexport default defineComponent({\n  name: 'ElTree',\n  components: { ElTreeNode },\n  props: {\n    data: {\n      type: Array,\n      default: () => [],\n    },\n    emptyText: {\n      type: String,\n    },\n    renderAfterExpand: {\n      type: Boolean,\n      default: true,\n    },\n    nodeKey: String,\n    checkStrictly: Boolean,\n    defaultExpandAll: Boolean,\n    expandOnClickNode: {\n      type: Boolean,\n      default: true,\n    },\n    checkOnClickNode: Boolean,\n    checkDescendants: {\n      type: Boolean,\n      default: false,\n    },\n    autoExpandParent: {\n      type: Boolean,\n      default: true,\n    },\n    defaultCheckedKeys: Array as PropType<\n      TreeComponentProps['defaultCheckedKeys']\n    >,\n    defaultExpandedKeys: Array as PropType<\n      TreeComponentProps['defaultExpandedKeys']\n    >,\n    currentNodeKey: [String, Number] as PropType<string | number>,\n    renderContent: Function,\n    showCheckbox: {\n      type: Boolean,\n      default: false,\n    },\n    draggable: {\n      type: Boolean,\n      default: false,\n    },\n    allowDrag: Function,\n    allowDrop: Function,\n    props: {\n      type: Object as PropType<TreeComponentProps['props']>,\n      default: () => ({\n        children: 'children',\n        label: 'label',\n        disabled: 'disabled',\n      }),\n    },\n    lazy: {\n      type: Boolean,\n      default: false,\n    },\n    highlightCurrent: Boolean,\n    load: Function as PropType<TreeComponentProps['load']>,\n    filterNodeMethod: Function as PropType<\n      TreeComponentProps['filterNodeMethod']\n    >,\n    accordion: Boolean,\n    indent: {\n      type: Number,\n      default: 18,\n    },\n    icon: {\n      type: iconPropType,\n    },\n  },\n  emits: [\n    'check-change',\n    'current-change',\n    'node-click',\n    'node-contextmenu',\n    'node-collapse',\n    'node-expand',\n    'check',\n    'node-drag-start',\n    'node-drag-end',\n    'node-drop',\n    'node-drag-leave',\n    'node-drag-enter',\n    'node-drag-over',\n  ],\n  setup(props, ctx) {\n    const { t } = useLocale()\n    const ns = useNamespace('tree')\n\n    const store = ref<TreeStore>(\n      new TreeStore({\n        key: props.nodeKey,\n        data: props.data,\n        lazy: props.lazy,\n        props: props.props,\n        load: props.load,\n        currentNodeKey: props.currentNodeKey,\n        checkStrictly: props.checkStrictly,\n        checkDescendants: props.checkDescendants,\n        defaultCheckedKeys: props.defaultCheckedKeys,\n        defaultExpandedKeys: props.defaultExpandedKeys,\n        autoExpandParent: props.autoExpandParent,\n        defaultExpandAll: props.defaultExpandAll,\n        filterNodeMethod: props.filterNodeMethod,\n      })\n    )\n\n    store.value.initialize()\n\n    const root = ref<Node>(store.value.root)\n    const currentNode = ref<Node>(null)\n    const el$ = ref<Nullable<HTMLElement>>(null)\n    const dropIndicator$ = ref<Nullable<HTMLElement>>(null)\n\n    const { broadcastExpanded } = useNodeExpandEventBroadcast(props)\n\n    const { dragState } = useDragNodeHandler({\n      props,\n      ctx,\n      el$,\n      dropIndicator$,\n      store,\n    })\n\n    useKeydown({ el$ }, store)\n\n    const isEmpty = computed(() => {\n      const { childNodes } = root.value\n      return (\n        !childNodes ||\n        childNodes.length === 0 ||\n        childNodes.every(({ visible }) => !visible)\n      )\n    })\n\n    watch(\n      () => props.currentNodeKey,\n      (newVal) => {\n        store.value.setCurrentNodeKey(newVal)\n      }\n    )\n\n    watch(\n      () => props.defaultCheckedKeys,\n      (newVal) => {\n        store.value.setDefaultCheckedKey(newVal)\n      }\n    )\n\n    watch(\n      () => props.defaultExpandedKeys,\n      (newVal) => {\n        store.value.setDefaultExpandedKeys(newVal)\n      }\n    )\n\n    watch(\n      () => props.data,\n      (newVal) => {\n        store.value.setData(newVal)\n      },\n      { deep: true }\n    )\n\n    watch(\n      () => props.checkStrictly,\n      (newVal) => {\n        store.value.checkStrictly = newVal\n      }\n    )\n\n    const filter = (value) => {\n      if (!props.filterNodeMethod)\n        throw new Error('[Tree] filterNodeMethod is required when filter')\n      store.value.filter(value)\n    }\n\n    const getNodeKey = (node: Node) => {\n      return getNodeKeyUtil(props.nodeKey, node.data)\n    }\n\n    const getNodePath = (data: TreeKey | TreeNodeData) => {\n      if (!props.nodeKey)\n        throw new Error('[Tree] nodeKey is required in getNodePath')\n      const node = store.value.getNode(data)\n      if (!node) return []\n      const path = [node.data]\n      let parent = node.parent\n      while (parent && parent !== root.value) {\n        path.push(parent.data)\n        parent = parent.parent\n      }\n      return path.reverse()\n    }\n\n    const getCheckedNodes = (\n      leafOnly?: boolean,\n      includeHalfChecked?: boolean\n    ): TreeNodeData[] => {\n      return store.value.getCheckedNodes(leafOnly, includeHalfChecked)\n    }\n\n    const getCheckedKeys = (leafOnly?: boolean): TreeKey[] => {\n      return store.value.getCheckedKeys(leafOnly)\n    }\n\n    const getCurrentNode = (): TreeNodeData => {\n      const currentNode = store.value.getCurrentNode()\n      return currentNode ? currentNode.data : null\n    }\n\n    const getCurrentKey = (): any => {\n      if (!props.nodeKey)\n        throw new Error('[Tree] nodeKey is required in getCurrentKey')\n      const currentNode = getCurrentNode()\n      return currentNode ? currentNode[props.nodeKey] : null\n    }\n\n    const setCheckedNodes = (nodes: Node[], leafOnly?: boolean) => {\n      if (!props.nodeKey)\n        throw new Error('[Tree] nodeKey is required in setCheckedNodes')\n      store.value.setCheckedNodes(nodes, leafOnly)\n    }\n\n    const setCheckedKeys = (keys: TreeKey[], leafOnly?: boolean) => {\n      if (!props.nodeKey)\n        throw new Error('[Tree] nodeKey is required in setCheckedKeys')\n      store.value.setCheckedKeys(keys, leafOnly)\n    }\n\n    const setChecked = (\n      data: TreeKey | TreeNodeData,\n      checked: boolean,\n      deep: boolean\n    ) => {\n      store.value.setChecked(data, checked, deep)\n    }\n\n    const getHalfCheckedNodes = (): TreeNodeData[] => {\n      return store.value.getHalfCheckedNodes()\n    }\n\n    const getHalfCheckedKeys = (): TreeKey[] => {\n      return store.value.getHalfCheckedKeys()\n    }\n\n    const setCurrentNode = (node: Node, shouldAutoExpandParent = true) => {\n      if (!props.nodeKey)\n        throw new Error('[Tree] nodeKey is required in setCurrentNode')\n\n      handleCurrentChange(store, ctx.emit, () =>\n        store.value.setUserCurrentNode(node, shouldAutoExpandParent)\n      )\n    }\n\n    const setCurrentKey = (key?: TreeKey, shouldAutoExpandParent = true) => {\n      if (!props.nodeKey)\n        throw new Error('[Tree] nodeKey is required in setCurrentKey')\n\n      handleCurrentChange(store, ctx.emit, () =>\n        store.value.setCurrentNodeKey(key, shouldAutoExpandParent)\n      )\n    }\n\n    const getNode = (data: TreeKey | TreeNodeData): Node => {\n      return store.value.getNode(data)\n    }\n\n    const remove = (data: TreeNodeData | Node) => {\n      store.value.remove(data)\n    }\n\n    const append = (\n      data: TreeNodeData,\n      parentNode: TreeNodeData | TreeKey | Node\n    ) => {\n      store.value.append(data, parentNode)\n    }\n\n    const insertBefore = (\n      data: TreeNodeData,\n      refNode: TreeKey | TreeNodeData | Node\n    ) => {\n      store.value.insertBefore(data, refNode)\n    }\n\n    const insertAfter = (\n      data: TreeNodeData,\n      refNode: TreeKey | TreeNodeData | Node\n    ) => {\n      store.value.insertAfter(data, refNode)\n    }\n\n    const handleNodeExpand = (\n      nodeData: TreeNodeData,\n      node: Node,\n      instance: ComponentInternalInstance\n    ) => {\n      broadcastExpanded(node)\n      ctx.emit('node-expand', nodeData, node, instance)\n    }\n\n    const updateKeyChildren = (key: TreeKey, data: TreeData) => {\n      if (!props.nodeKey)\n        throw new Error('[Tree] nodeKey is required in updateKeyChild')\n      store.value.updateChildren(key, data)\n    }\n\n    provide('RootTree', {\n      ctx,\n      props,\n      store,\n      root,\n      currentNode,\n      instance: getCurrentInstance(),\n    } as any)\n\n    provide(formItemContextKey, undefined)\n\n    return {\n      ns,\n      // ref\n      store,\n      root,\n      currentNode,\n      dragState,\n      el$,\n      dropIndicator$,\n\n      // computed\n      isEmpty,\n\n      // methods\n      filter,\n      getNodeKey,\n      getNodePath,\n      getCheckedNodes,\n      getCheckedKeys,\n      getCurrentNode,\n      getCurrentKey,\n      setCheckedNodes,\n      setCheckedKeys,\n      setChecked,\n      getHalfCheckedNodes,\n      getHalfCheckedKeys,\n      setCurrentNode,\n      setCurrentKey,\n      t,\n      getNode,\n      remove,\n      append,\n      insertBefore,\n      insertAfter,\n      handleNodeExpand,\n      updateKeyChildren,\n    }\n  },\n})\n</script>\n","import Tree from './src/tree.vue'\n\nimport type { App } from 'vue'\nimport type { SFCWithInstall } from '@element-plus/utils'\n\nTree.install = (app: App): void => {\n  app.component(Tree.name, Tree)\n}\n\nconst _Tree = Tree as SFCWithInstall<typeof Tree>\n\nexport default _Tree\nexport const ElTree = _Tree\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tree = _resolveComponent(\"el-tree\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_el_tree, {\n    ref: \"treeRef\",\n    data: _ctx.list,\n    \"show-checkbox\": \"\",\n    \"node-key\": \"roleId\",\n    \"check-strictly\": true,\n    \"default-checked-keys\": _ctx.authority,\n    props: {\n      children: 'roleList',\n      label: 'name'\n    }\n  }, null, 8, [\"data\", \"default-checked-keys\"]), _createVNode(_component_el_button, {\n    round: \"\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.back())\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"返回\")]),\n    _: 1\n  }), _createVNode(_component_el_button, {\n    round: \"\",\n    type: \"primary\",\n    plain: true,\n    onClick: _ctx.changeAuthority\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"确认修改\")]),\n    _: 1\n  }, 8, [\"onClick\"])]);\n}","interface ListInt{\r\n  name:string\r\n  roleId:number\r\n  roleList?:ListInt[]\r\n  viewRole?:string\r\n}\r\n\r\nclass InitData {\r\n  id:number\r\n  authority:number[]\r\n  list:ListInt[]=[]\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  treeRef:any\r\n  constructor (id:number, authority:number[]) {\r\n    this.id = id\r\n    this.authority = authority\r\n  }\r\n}\r\nexport { InitData, ListInt }\r\n","import { defineComponent, onMounted, reactive, toRefs } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { InitData } from '../type/authority';\nimport { getAuthorityList } from '../request/api';\nimport { ElMessage } from 'element-plus';\nimport 'element-plus/theme-chalk/index.css';\nexport default defineComponent({\n  setup() {\n    // 定义数据\n    const route = useRoute();\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const query = route.query;\n    const data = reactive(new InitData(query.id, query.authority));\n    // 定义函数\n    const changeAuthority = () => {\n      data.treeRef.getCheckedKeys().sort((a, b) => a - b);\n      // 传入后台进行修改（未实现）\n      ElMessage({\n        message: '修改成功',\n        type: 'success'\n      });\n    };\n    // 使用函数\n    onMounted(async () => {\n      await getAuthorityList().then(res => {\n        data.list = res.data;\n      });\n    });\n    // 导出\n    return {\n      ...toRefs(data),\n      changeAuthority\n    };\n  }\n});","/* unplugin-vue-components disabled */import { render } from \"./AuthorityView.vue?vue&type=template&id=5c73fe1b&scoped=true&ts=true\"\nimport script from \"./AuthorityView.vue?vue&type=script&lang=ts\"\nexport * from \"./AuthorityView.vue?vue&type=script&lang=ts\"\n\nimport \"./AuthorityView.vue?vue&type=style&index=0&id=5c73fe1b&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\Program Files (x86)\\\\back-stage\\\\demo\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5c73fe1b\"]])\n\nexport default __exports__","import { buildProps } from '@element-plus/utils'\nimport type { ExtractPropTypes } from 'vue'\n\nexport const badgeProps = buildProps({\n  /**\n   * @description display value.\n   */\n  value: {\n    type: [String, Number],\n    default: '',\n  },\n  /**\n   * @description maximum value, shows `{max}+` when exceeded. Only works if value is a number.\n   */\n  max: {\n    type: Number,\n    default: 99,\n  },\n  /**\n   * @description if a little dot is displayed.\n   */\n  isDot: Boolean,\n  /**\n   * @description hidden badge.\n   */\n  hidden: Boolean,\n  /**\n   * @description badge type.\n   */\n  type: {\n    type: String,\n    values: ['primary', 'success', 'warning', 'info', 'danger'],\n    default: 'danger',\n  },\n} as const)\nexport type BadgeProps = ExtractPropTypes<typeof badgeProps>\n","<template>\n  <div :class=\"ns.b()\">\n    <slot />\n    <transition :name=\"`${ns.namespace.value}-zoom-in-center`\">\n      <sup\n        v-show=\"!hidden && (content || isDot)\"\n        :class=\"[\n          ns.e('content'),\n          ns.em('content', type),\n          ns.is('fixed', !!$slots.default),\n          ns.is('dot', isDot),\n        ]\"\n        v-text=\"content\"\n      />\n    </transition>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport { useNamespace } from '@element-plus/hooks'\nimport { isNumber } from '@element-plus/utils'\nimport { badgeProps } from './badge'\n\ndefineOptions({\n  name: 'ElBadge',\n})\n\nconst props = defineProps(badgeProps)\n\nconst ns = useNamespace('badge')\n\nconst content = computed<string>(() => {\n  if (props.isDot) return ''\n\n  if (isNumber(props.value) && isNumber(props.max)) {\n    return props.max < props.value ? `${props.max}+` : `${props.value}`\n  }\n  return `${props.value}`\n})\n\ndefineExpose({\n  /** @description badge content */\n  content,\n})\n</script>\n","import { withInstall } from '@element-plus/utils'\n\nimport Badge from './src/badge.vue'\n\nexport const ElBadge = withInstall(Badge)\nexport default ElBadge\n\nexport * from './src/badge'\nexport type { BadgeInstance } from './src/instance'\n","import {\n  buildProps,\n  definePropType,\n  iconPropType,\n  isClient,\n  mutable,\n} from '@element-plus/utils'\nimport type { AppContext, ExtractPropTypes, VNode } from 'vue'\nimport type { Mutable } from '@element-plus/utils'\nimport type MessageConstructor from './message.vue'\n\nexport const messageTypes = ['success', 'info', 'warning', 'error'] as const\n\nexport type messageType = typeof messageTypes[number]\n\nexport interface MessageConfigContext {\n  max?: number\n}\n\nexport const messageDefaults = mutable({\n  customClass: '',\n  center: false,\n  dangerouslyUseHTMLString: false,\n  duration: 3000,\n  icon: undefined,\n  id: '',\n  message: '',\n  onClose: undefined,\n  showClose: false,\n  type: 'info',\n  offset: 16,\n  zIndex: 0,\n  grouping: false,\n  repeatNum: 1,\n  appendTo: isClient ? document.body : (undefined as never),\n} as const)\n\nexport const messageProps = buildProps({\n  /**\n   * @description custom class name for Message\n   */\n  customClass: {\n    type: String,\n    default: messageDefaults.customClass,\n  },\n  /**\n   * @description whether to center the text\n   */\n  center: {\n    type: Boolean,\n    default: messageDefaults.center,\n  },\n  /**\n   * @description whether `message` is treated as HTML string\n   */\n  dangerouslyUseHTMLString: {\n    type: Boolean,\n    default: messageDefaults.dangerouslyUseHTMLString,\n  },\n  /**\n   * @description display duration, millisecond. If set to 0, it will not turn off automatically\n   */\n  duration: {\n    type: Number,\n    default: messageDefaults.duration,\n  },\n  /**\n   * @description custom icon component, overrides `type`\n   */\n  icon: {\n    type: iconPropType,\n    default: messageDefaults.icon,\n  },\n  /**\n   * @description message dom id\n   */\n  id: {\n    type: String,\n    default: messageDefaults.id,\n  },\n  /**\n   * @description message text\n   */\n  message: {\n    type: definePropType<string | VNode | (() => VNode)>([\n      String,\n      Object,\n      Function,\n    ]),\n    default: messageDefaults.message,\n  },\n  /**\n   * @description callback function when closed with the message instance as the parameter\n   */\n  onClose: {\n    type: definePropType<() => void>(Function),\n    required: false,\n  },\n  /**\n   * @description whether to show a close button\n   */\n  showClose: {\n    type: Boolean,\n    default: messageDefaults.showClose,\n  },\n  /**\n   * @description message type\n   */\n  type: {\n    type: String,\n    values: messageTypes,\n    default: messageDefaults.type,\n  },\n  /**\n   * @description set the distance to the top of viewport\n   */\n  offset: {\n    type: Number,\n    default: messageDefaults.offset,\n  },\n  /**\n   * @description input box size\n   */\n  zIndex: {\n    type: Number,\n    default: messageDefaults.zIndex,\n  },\n  /**\n   * @description merge messages with the same content, type of VNode message is not supported\n   */\n  grouping: {\n    type: Boolean,\n    default: messageDefaults.grouping,\n  },\n  /**\n   * @description The number of repetitions, similar to badge, is used as the initial number when used with `grouping`\n   */\n  repeatNum: {\n    type: Number,\n    default: messageDefaults.repeatNum,\n  },\n} as const)\nexport type MessageProps = ExtractPropTypes<typeof messageProps>\n\nexport const messageEmits = {\n  destroy: () => true,\n}\nexport type MessageEmits = typeof messageEmits\n\nexport type MessageInstance = InstanceType<typeof MessageConstructor>\n\nexport type MessageOptions = Partial<\n  Mutable<\n    Omit<MessageProps, 'id'> & {\n      appendTo?: HTMLElement | string\n    }\n  >\n>\nexport type MessageParams = MessageOptions | MessageOptions['message']\nexport type MessageParamsNormalized = Omit<MessageProps, 'id'> & {\n  /**\n   * @description set the root element for the message, default to `document.body`\n   */\n  appendTo: HTMLElement\n}\nexport type MessageOptionsWithType = Omit<MessageOptions, 'type'>\nexport type MessageParamsWithType =\n  | MessageOptionsWithType\n  | MessageOptions['message']\n\nexport interface MessageHandler {\n  /**\n   * @description close the Message\n   */\n  close: () => void\n}\n\nexport type MessageFn = {\n  (options?: MessageParams, appContext?: null | AppContext): MessageHandler\n  closeAll(type?: messageType): void\n}\nexport type MessageTypedFn = (\n  options?: MessageParamsWithType,\n  appContext?: null | AppContext\n) => MessageHandler\n\nexport interface Message extends MessageFn {\n  success: MessageTypedFn\n  warning: MessageTypedFn\n  info: MessageTypedFn\n  error: MessageTypedFn\n}\n","import { shallowReactive } from 'vue'\nimport type { ComponentInternalInstance, VNode } from 'vue'\nimport type { Mutable } from '@element-plus/utils'\nimport type { MessageHandler, MessageProps } from './message'\n\nexport type MessageContext = {\n  id: string\n  vnode: VNode\n  handler: MessageHandler\n  vm: ComponentInternalInstance\n  props: Mutable<MessageProps>\n}\n\nexport const instances: MessageContext[] = shallowReactive([])\n\nexport const getInstance = (id: string) => {\n  const idx = instances.findIndex((instance) => instance.id === id)\n  const current = instances[idx]\n  let prev: MessageContext | undefined\n  if (idx > 0) {\n    prev = instances[idx - 1]\n  }\n  return { current, prev }\n}\n\nexport const getLastOffset = (id: string): number => {\n  const { prev } = getInstance(id)\n  if (!prev) return 0\n  return prev.vm.exposed!.bottom.value\n}\n\nexport const getOffsetOrSpace = (id: string, offset: number) => {\n  const idx = instances.findIndex((instance) => instance.id === id)\n  return idx > 0 ? 20 : offset\n}\n","<template>\n  <transition\n    :name=\"ns.b('fade')\"\n    @before-leave=\"onClose\"\n    @after-leave=\"$emit('destroy')\"\n  >\n    <div\n      v-show=\"visible\"\n      :id=\"id\"\n      ref=\"messageRef\"\n      :class=\"[\n        ns.b(),\n        { [ns.m(type)]: type && !icon },\n        ns.is('center', center),\n        ns.is('closable', showClose),\n        customClass,\n      ]\"\n      :style=\"customStyle\"\n      role=\"alert\"\n      @mouseenter=\"clearTimer\"\n      @mouseleave=\"startTimer\"\n    >\n      <el-badge\n        v-if=\"repeatNum > 1\"\n        :value=\"repeatNum\"\n        :type=\"badgeType\"\n        :class=\"ns.e('badge')\"\n      />\n      <el-icon v-if=\"iconComponent\" :class=\"[ns.e('icon'), typeClass]\">\n        <component :is=\"iconComponent\" />\n      </el-icon>\n      <slot>\n        <p v-if=\"!dangerouslyUseHTMLString\" :class=\"ns.e('content')\">\n          {{ message }}\n        </p>\n        <!-- Caution here, message could've been compromised, never use user's input as message -->\n        <p v-else :class=\"ns.e('content')\" v-html=\"message\" />\n      </slot>\n      <el-icon v-if=\"showClose\" :class=\"ns.e('closeBtn')\" @click.stop=\"close\">\n        <Close />\n      </el-icon>\n    </div>\n  </transition>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, onMounted, ref, watch } from 'vue'\nimport { useEventListener, useResizeObserver, useTimeoutFn } from '@vueuse/core'\nimport { TypeComponents, TypeComponentsMap } from '@element-plus/utils'\nimport { EVENT_CODE } from '@element-plus/constants'\nimport ElBadge from '@element-plus/components/badge'\nimport { useGlobalComponentSettings } from '@element-plus/components/config-provider'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { messageEmits, messageProps } from './message'\nimport { getLastOffset, getOffsetOrSpace } from './instance'\nimport type { BadgeProps } from '@element-plus/components/badge'\nimport type { CSSProperties } from 'vue'\n\nconst { Close } = TypeComponents\n\ndefineOptions({\n  name: 'ElMessage',\n})\n\nconst props = defineProps(messageProps)\ndefineEmits(messageEmits)\n\nconst { ns, zIndex } = useGlobalComponentSettings('message')\nconst { currentZIndex, nextZIndex } = zIndex\n\nconst messageRef = ref<HTMLDivElement>()\nconst visible = ref(false)\nconst height = ref(0)\n\nlet stopTimer: (() => void) | undefined = undefined\n\nconst badgeType = computed<BadgeProps['type']>(() =>\n  props.type ? (props.type === 'error' ? 'danger' : props.type) : 'info'\n)\nconst typeClass = computed(() => {\n  const type = props.type\n  return { [ns.bm('icon', type)]: type && TypeComponentsMap[type] }\n})\nconst iconComponent = computed(\n  () => props.icon || TypeComponentsMap[props.type] || ''\n)\n\nconst lastOffset = computed(() => getLastOffset(props.id))\nconst offset = computed(\n  () => getOffsetOrSpace(props.id, props.offset) + lastOffset.value\n)\nconst bottom = computed((): number => height.value + offset.value)\nconst customStyle = computed<CSSProperties>(() => ({\n  top: `${offset.value}px`,\n  zIndex: currentZIndex.value,\n}))\n\nfunction startTimer() {\n  if (props.duration === 0) return\n  ;({ stop: stopTimer } = useTimeoutFn(() => {\n    close()\n  }, props.duration))\n}\n\nfunction clearTimer() {\n  stopTimer?.()\n}\n\nfunction close() {\n  visible.value = false\n}\n\nfunction keydown({ code }: KeyboardEvent) {\n  if (code === EVENT_CODE.esc) {\n    // press esc to close the message\n    close()\n  }\n}\n\nonMounted(() => {\n  startTimer()\n  nextZIndex()\n  visible.value = true\n})\n\nwatch(\n  () => props.repeatNum,\n  () => {\n    clearTimer()\n    startTimer()\n  }\n)\n\nuseEventListener(document, 'keydown', keydown)\n\nuseResizeObserver(messageRef, () => {\n  height.value = messageRef.value!.getBoundingClientRect().height\n})\n\ndefineExpose({\n  visible,\n  bottom,\n  close,\n})\n</script>\n","import { buildProps, definePropType } from '@element-plus/utils'\nimport { useSizeProp } from '@element-plus/hooks'\n\nimport type { ExtractPropTypes } from 'vue'\nimport type { Language } from '@element-plus/locale'\nimport type { ButtonConfigContext } from '@element-plus/components/button'\nimport type { MessageConfigContext } from '@element-plus/components/message'\n\nexport type ExperimentalFeatures = {\n  // TO BE Defined\n}\n\nexport const configProviderProps = buildProps({\n  /**\n   * @description Controlling if the users want a11y features\n   */\n  a11y: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description Locale Object\n   */\n  locale: {\n    type: definePropType<Language>(Object),\n  },\n  /**\n   * @description global component size\n   */\n  size: useSizeProp,\n  /**\n   * @description button related configuration, [see the following table](#button-attributes)\n   */\n  button: {\n    type: definePropType<ButtonConfigContext>(Object),\n  },\n  /**\n   * @description features at experimental stage to be added, all features are default to be set to false                                                                                | ^[object]\n   */\n  experimentalFeatures: {\n    type: definePropType<ExperimentalFeatures>(Object),\n  },\n  /**\n   * @description Controls if we should handle keyboard navigation\n   */\n  keyboardNavigation: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description message related configuration, [see the following table](#message-attributes)\n   */\n  message: {\n    type: definePropType<MessageConfigContext>(Object),\n  },\n  /**\n   * @description global Initial zIndex\n   */\n  zIndex: Number,\n  /**\n   * @description global component className prefix (cooperated with [$namespace](https://github.com/element-plus/element-plus/blob/dev/packages/theme-chalk/src/mixins/config.scss#L1)) | ^[string]\n   */\n  namespace: {\n    type: String,\n    default: 'el',\n  },\n} as const)\nexport type ConfigProviderProps = ExtractPropTypes<typeof configProviderProps>\n","import { defineComponent, renderSlot, watch } from 'vue'\nimport { provideGlobalConfig } from './hooks/use-global-config'\nimport { configProviderProps } from './config-provider-props'\n\nimport type { MessageConfigContext } from '@element-plus/components/message'\n\nexport const messageConfig: MessageConfigContext = {}\n\nconst ConfigProvider = defineComponent({\n  name: 'ElConfigProvider',\n  props: configProviderProps,\n\n  setup(props, { slots }) {\n    watch(\n      () => props.message,\n      (val) => {\n        Object.assign(messageConfig, val ?? {})\n      },\n      { immediate: true, deep: true }\n    )\n    const config = provideGlobalConfig(props)\n    return () => renderSlot(slots, 'default', { config: config?.value })\n  },\n})\nexport type ConfigProviderInstance = InstanceType<typeof ConfigProvider>\n\nexport default ConfigProvider\n","import { createVNode, render } from 'vue'\nimport {\n  debugWarn,\n  isClient,\n  isElement,\n  isFunction,\n  isNumber,\n  isString,\n  isVNode,\n} from '@element-plus/utils'\nimport { messageConfig } from '@element-plus/components/config-provider'\nimport MessageConstructor from './message.vue'\nimport { messageDefaults, messageTypes } from './message'\nimport { instances } from './instance'\n\nimport type { MessageContext } from './instance'\nimport type { AppContext } from 'vue'\nimport type {\n  Message,\n  MessageFn,\n  MessageHandler,\n  MessageOptions,\n  MessageParams,\n  MessageParamsNormalized,\n  messageType,\n} from './message'\n\nlet seed = 1\n\n// TODO: Since Notify.ts is basically the same like this file. So we could do some encapsulation against them to reduce code duplication.\n\nconst normalizeOptions = (params?: MessageParams) => {\n  const options: MessageOptions =\n    !params || isString(params) || isVNode(params) || isFunction(params)\n      ? { message: params }\n      : params\n\n  const normalized = {\n    ...messageDefaults,\n    ...options,\n  }\n\n  if (!normalized.appendTo) {\n    normalized.appendTo = document.body\n  } else if (isString(normalized.appendTo)) {\n    let appendTo = document.querySelector<HTMLElement>(normalized.appendTo)\n\n    // should fallback to default value with a warning\n    if (!isElement(appendTo)) {\n      debugWarn(\n        'ElMessage',\n        'the appendTo option is not an HTMLElement. Falling back to document.body.'\n      )\n      appendTo = document.body\n    }\n\n    normalized.appendTo = appendTo\n  }\n\n  return normalized as MessageParamsNormalized\n}\n\nconst closeMessage = (instance: MessageContext) => {\n  const idx = instances.indexOf(instance)\n  if (idx === -1) return\n\n  instances.splice(idx, 1)\n  const { handler } = instance\n  handler.close()\n}\n\nconst createMessage = (\n  { appendTo, ...options }: MessageParamsNormalized,\n  context?: AppContext | null\n): MessageContext => {\n  const id = `message_${seed++}`\n  const userOnClose = options.onClose\n\n  const container = document.createElement('div')\n\n  const props = {\n    ...options,\n    // now the zIndex will be used inside the message.vue component instead of here.\n    // zIndex: nextIndex() + options.zIndex\n    id,\n    onClose: () => {\n      userOnClose?.()\n      closeMessage(instance)\n    },\n\n    // clean message element preventing mem leak\n    onDestroy: () => {\n      // since the element is destroy, then the VNode should be collected by GC as well\n      // we do not want cause any mem leak because we have returned vm as a reference to users\n      // so that we manually set it to false.\n      render(null, container)\n    },\n  }\n  const vnode = createVNode(\n    MessageConstructor,\n    props,\n    isFunction(props.message) || isVNode(props.message)\n      ? {\n          default: isFunction(props.message)\n            ? props.message\n            : () => props.message,\n        }\n      : null\n  )\n  vnode.appContext = context || message._context\n\n  render(vnode, container)\n  // instances will remove this item when close function gets called. So we do not need to worry about it.\n  appendTo.appendChild(container.firstElementChild!)\n\n  const vm = vnode.component!\n\n  const handler: MessageHandler = {\n    // instead of calling the onClose function directly, setting this value so that we can have the full lifecycle\n    // for out component, so that all closing steps will not be skipped.\n    close: () => {\n      vm.exposed!.visible.value = false\n    },\n  }\n\n  const instance: MessageContext = {\n    id,\n    vnode,\n    vm,\n    handler,\n    props: (vnode.component as any).props,\n  }\n\n  return instance\n}\n\nconst message: MessageFn &\n  Partial<Message> & { _context: AppContext | null } = (\n  options = {},\n  context\n) => {\n  if (!isClient) return { close: () => undefined }\n\n  if (isNumber(messageConfig.max) && instances.length >= messageConfig.max) {\n    return { close: () => undefined }\n  }\n\n  const normalized = normalizeOptions(options)\n\n  if (normalized.grouping && instances.length) {\n    const instance = instances.find(\n      ({ vnode: vm }) => vm.props?.message === normalized.message\n    )\n    if (instance) {\n      instance.props.repeatNum += 1\n      instance.props.type = normalized.type\n      return instance.handler\n    }\n  }\n\n  const instance = createMessage(normalized, context)\n\n  instances.push(instance)\n  return instance.handler\n}\n\nmessageTypes.forEach((type) => {\n  message[type] = (options = {}, appContext) => {\n    const normalized = normalizeOptions(options)\n    return message({ ...normalized, type }, appContext)\n  }\n})\n\nexport function closeAll(type?: messageType): void {\n  for (const instance of instances) {\n    if (!type || type === instance.props.type) {\n      instance.handler.close()\n    }\n  }\n}\n\nmessage.closeAll = closeAll\nmessage._context = null\n\nexport default message as Message\n","import { withInstallFunction } from '@element-plus/utils'\n\nimport Message from './src/method'\n\nexport const ElMessage = withInstallFunction(Message, '$message')\nexport default ElMessage\n\nexport * from './src/message'\n"],"names":["NODE_KEY","markNodeData","node","data","Object","defineProperty","value","id","enumerable","configurable","writable","getNodeKey","key","handleCurrentChange","store","emit","setCurrent","preCurrentNode","currentNode","getChildState","all","none","allWithoutDisable","i","j","length","n","checked","indeterminate","disabled","half","reInitChecked","childNodes","loading","parent","level","checkStrictly","getPropertyFromData","prop","props","config","dataProp","nodeIdSeed","Node","constructor","options","text","expanded","visible","isCurrent","canFocus","name","hasOwn","loaded","initialize","Error","registerNode","isLeaf","isLeafByUser","lazy","setData","defaultExpandAll","expand","Array","isArray","defaultExpandedKeys","includes","autoExpandParent","currentNodeKey","_initDefaultCheckedNode","updateLeafState","children","insertChild","label","nodeKey","this","nextSibling","index","indexOf","previousSibling","contains","target","deep","some","child","remove","removeChild","batch","getChildren","push","splice","assign","reactive","insertBefore","ref","insertAfter","dataIndex","deregisterNode","removeChildByData","targetNode","callback","expandParent","done","forEach","item","shouldLoadData","loadData","setChecked","doCreateChildren","array","defaultProps","collapse","load","recursion","passValue","checkDescendants","handleDescendants","isCheck","all2","forceInit","updateChildren","newData","oldData","map","newDataMap","newNodes","isNodeExists","findIndex","keys","call","resolve","TreeStore","option","nodesMap","root","loadFn","_initDefaultCheckedNodes","filter","filterNodeMethod","traverse","allHidden","newVal","instanceChanged","getNode","isObject","refData","refNode","append","parentData","parentNode","defaultCheckedKeys","checkedKey","setDefaultCheckedKey","getCheckedNodes","leafOnly","includeHalfChecked","checkedNodes","getCheckedKeys","getHalfCheckedNodes","nodes","getHalfCheckedKeys","_getAllNodes","allNodes","_setCheckedKeys","checkedKeys","sort","a","b","cache","create","toString","node2","setCheckedNodes","setCheckedKeys","key2","setDefaultExpandedKeys","getCurrentNode","setCurrentNode","prevCurrentNode","setUserCurrentNode","shouldAutoExpandParent","currNode","setCurrentNodeKey","_sfc_main","defineComponent","type","required","renderContent","Function","setup","ns","useNamespace","nodeInstance","inject","tree","h","_self","ctx","slots","default","class","be","useNodeExpandEventBroadcast","parentNodeMap","currentNodeMap","treeNodeExpand","provide","broadcastExpanded","accordion","childNode","dragEventsKey","Symbol","useDragNodeHandler","el$","dropIndicator$","dragState","showDropIndicator","draggingNode","dropNode","allowDrop","dropType","treeNodeDragStart","event","treeNode","allowDrag","preventDefault","dataTransfer","effectAllowed","e","treeNodeDragOver","oldDropNode","removeClass","$el","is","dropPrev","dropInner","dropNext","userAllowDropInner","dropEffect","targetPosition","getBoundingClientRect","treePosition","prevPercent","nextPercent","indicatorTop","distance","clientY","top","height","iconPosition","querySelector","dropIndicator","bottom","style","left","right","addClass","treeNodeDragEnd","draggingNodeCopy","components","ElCollapseTransition","_CollapseTransition","ElCheckbox","NodeContent","ElIcon","Loading","Boolean","renderAfterExpand","showCheckbox","emits","childNodeRendered","oldChecked","oldIndeterminate","node$","dragEvents","instance","getCurrentInstance","debugWarn","childrenKey","watch","val","handleSelectChange","nextTick","getNodeKey$1","getNodeClass","nodeClassFunc","className","isFunction","isString","handleClick","expandOnClickNode","handleExpandIconClick","checkOnClickNode","handleCheckChange","handleContextMenu","vnode","stopPropagation","ev","halfCheckedNodes","halfCheckedKeys","handleChildNodeExpand","nodeData","instance2","handleDragStart","draggable","handleDragOver","handleDrop","handleDragEnd","CaretRight","createElementBlock","normalizeClass","_ctx","role","tabindex","onClick","_cache","withModifiers","args","onContextmenu","onDragstart","onDragover","onDragend","onDrop","createElementVNode","normalizeStyle","paddingLeft","indent","icon","openBlock","createBlock","_component_el_icon","resolveDynamicComponent","_component_el_checkbox","onChange","createCommentVNode","createVNode","_component_loading","_component_node_content","_component_el_collapse_transition","withCtx","withDirectives","Fragment","renderList","_component_el_tree_node","onNodeExpand","vShow","useKeydown","treeItems","shallowRef","checkboxItems","onMounted","initTabIndex","onUpdated","from","querySelectorAll","checkbox","setAttribute","handleKeydown","currentItem","code","currentIndex","nextIndex","EVENT_CODE","startIndex","dataset","focus","click","hasInput","useEventListener","_a","checkedItem","ElTreeNode","emptyText","String","Number","highlightCurrent","iconPropType","t","useLocale","isEmpty","computed","every","getNodePath","path","reverse","currentNode2","getCurrentKey","setCurrentKey","handleNodeExpand","updateKeyChildren","formItemContextKey","m","renderSlot","$slots","Tree","app","component","_Tree","ElTree","render","$props","$setup","$data","$options","_component_el_tree","_component_el_button","list","authority","round","$event","$router","back","_","plain","changeAuthority","InitData","_defineProperty","route","query","treeRef","message","async","then","res","__exports__","badgeProps","buildProps","max","isDot","hidden","values","content","isNumber","expose","ElBadge","withInstall","Badge","messageTypes","messageDefaults","mutable","customClass","center","dangerouslyUseHTMLString","duration","onClose","showClose","offset","zIndex","grouping","repeatNum","appendTo","isClient","document","body","messageProps","definePropType","messageEmits","destroy","instances","shallowReactive","getInstance","idx","current","prev","getLastOffset","vm","exposed","getOffsetOrSpace","Close","TypeComponents","useGlobalComponentSettings","currentZIndex","nextZIndex","messageRef","stopTimer","badgeType","typeClass","bm","TypeComponentsMap","iconComponent","lastOffset","customStyle","startTimer","stop","useTimeoutFn","close","clearTimer","keydown","useResizeObserver","configProviderProps","a11y","locale","size","useSizeProp","button","experimentalFeatures","keyboardNavigation","namespace","messageConfig","immediate","provideGlobalConfig","seed","normalizeOptions","params","isVNode","normalized","isElement","closeMessage","handler","createMessage","context","userOnClose","container","createElement","onDestroy","MessageConstructor","appContext","_context","appendChild","firstElementChild","closeAll","ElMessage","withInstallFunction"],"sourceRoot":""}